var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,i,m;if(n=Math.round(1e4*Math.random()),t.id=o+"-"+e+"-"+n,s=o.substr(5),i="nav"+o.substr(5),l="#"+o+"-"+e+"-"+n,m="<a class='TOClink' data-href='"+l+"'data-destination='"+o+"' data-destinationNavID='"+i+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=m,c===Number(s)){var r;document.getElementById("moduleTOC-default")&&(r=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(r=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),r.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,i,o,c=1;e(),l=methods.countTheSlides();for(var m=0;l>m;m++)s="slide"+(m+1),i=document.getElementById(s),o=i.id,methods.traverse(n,i);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,i,o,c,m,r,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var p=0;p<l.length;p++)l[p].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var y=0;y<s.length;y++)"mainNavList"!==s[y].id&&s[y].setAttribute("role","list");if(i=document.getElementsByTagName("li"))for(var B=0;B<i.length;B++)"navElement"!==i[B].className&&"activeNavElement"!==i[B].className&&i[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(o=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+o),c=e[E],m=c.parentNode,r=document.createElement("img"),r.id="link"+E,r.style.width="10px",r.style.height="10px",r.style.margin="0",r.style.padding="0 3px 6px 0",r.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&m.insertBefore(r,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,i,o,c,m,r;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(o=t.children[u]||null,c=o.children[0].id,d=document.getElementById(c),r=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+r,m=document.title,o.insertBefore(l,d),s=document.createElement("source"),i=document.createElement("source"),s.src="media/"+m+"-S"+r+".m4a",s.type="audio/mpeg",i.src="media/"+m+"-S"+r+".ogg",i.type="audio/ogg",l.appendChild(s),l.appendChild(i)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,i,o,c,m,r,u,h,g,v;if(r=e.substr(5),r>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var p=0;p<d.children.length;p++)o=d.children[p].className,("slideHeader clearfix"===o||"futureSlideHeader clearfix"===o)&&(c=d.children[p],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>r?"0"+r:r,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),m=document.getElementById(e),m.className="activeSlide";for(var y=0;y<m.children.length;y++)i=m.children[y].className,"futureSlideHeader clearfix"===i&&(m.children[y].className="slideHeader clearfix"),"slideContent"===i&&(m.children[y].className="activeSlideContent"),"slideFooter"===i&&(m.children[y].className="activeSlideFooter"),"audioBox"===i&&(m.children[y].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,i,o;switch(o=document.getElementsByClassName("activeSlide")[0].id,i=o.substr(5),s="nav"+i,e){case"next":d=Number(o.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,o));break;case"prev":d=Number(o.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,o));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,o);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,o);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,o);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,i,o,c;t=document.getElementsByTagName("section");for(var m=0;m<t.length;m++)if(("slide"===t[m].className||"activeSlide"===t[m].className)&&(e=t[m].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[m].id);for(var r=0;r<c.children.length;r++)("slideFooter"===c.children[r].className||"activeSlideFooter"===c.children[r].className)&&(a=c.children[r],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",i=document.createElement("span"),o=c.id.substr(5),i.id="audioLandingPad"+o,s.appendChild(i),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var i=0;i<t.length;i++)t[i].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var o=0;o<l.length;o++)l[o].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var m=0;m<a.length;m++)a[m].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var r=0;r<n.length;r++)n[r].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();