var methods={theImagePath:"",getActiveNavId:function(){return document.getElementsByClassName("nav-item-is-active")[0].id},countTheSlides:function(){var e;return e=document.getElementsByClassName("slide"),document.getElementsByClassName("activeSlide").length+e.length},getActiveSlideId:function(){return document.getElementsByClassName("activeSlide")[0].id},openheplBox:function(){console.log("I did it")},getProgramImgPath:function(){return methods.theImagePath},setProgramImgPath:function(){methods.theImagePath=document.getElementById("toc-button").style.backgroundImage,alert(methods.theImagePath)},traverse:function(e,t){for(var n,s=0;s<t.childNodes.length;s++)e(n=t.childNodes[s]),0<n.childNodes.length&&methods.traverse(e,n)},tocHandler:function(){function t(e,t){var n,s,d,a;if(n=Math.round(1e4*Math.random()),t.id=r+"-"+e+"-"+n,t.setAttribute("tabindex","-1"),d=r.substr(5),"nav"+r.substr(5),s="#"+r+"-"+e+"-"+n,a=t.children[0]?t.children[1].innerHTML:t.innerHTML,l=document.createElement("p"),"H2"===e&&(l.className="toc-header",l.style.content=r,l.innerHTML="<span class='toc-slide-num'>"+r.substr(5)+" </span><span class='is-dormant'>&mdash;jump to slide:"+r.substr(5)+"&mdash;</span>"+a+"<br />"),"H3"===e&&(l.className="toc-subheader",l.innerHTML="<span class='is-dormant'>&mdash;jump to slide:"+r.substr(5)+"&mdash;</span>&ensp;"+a+"<br />"),l.href=s,l.setAttribute("tabindex","-1"),h===Number(d)){var i;document.getElementById("toc-menu")&&(i=document.getElementById("toc-menu"));var m=document.createElement("section");m.id="slide"+d+"TOC",m.className="TOC",m.innerHTML="<span id='slide"+d+"TocTarget' class='hidden'></span>",u=document.getElementById("theTocTarget"),i.insertBefore(m,u),h++}var o=document.getElementById("slide"+d+"TOC"),c=document.getElementById("slide"+d+"TocTarget");o.insertBefore(l,c)}function e(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e)}var l,u,n,s,d,r,a,h=1;document.getElementById("toc-menu")&&(a=document.getElementById("toc-menu")),document.getElementById("toc-menu")&&(a=document.getElementById("toc-menu")),a.children[0].id="theTocTarget",a.children[0].className="TOCtargets",n=methods.countTheSlides();for(var i=0;i<n;i++)s="slide"+(i+1),d=document.getElementById(s),r=d.id,methods.traverse(e,d)},toggleTocColumn:function(){var e=methods.getActiveSlideId(),t=document.getElementById("toc-column");t&&("toc-is-open"===t.className?(t.className="toc-is-closed",document.getElementById("toc-button").style.backgroundImage="url('../img/TOC-default.png')"):(t.className="toc-is-open",document.getElementById("toc-button").style.backgroundImage="slide1"!==e?"url('../img/TOC-default.png')":methods.getProgramImgPath()))},populateTheNavMenu:function(){var e,t,n,s,d=methods.countTheSlides();if(s=document.getElementById("nav-item-list").children[0],1===methods.countTheSlides())s.id="nav1",s.title="Jump to Slide 1",s.className="nav-item-is-active",s.setAttribute("tabindex","-1");else{s.id="nav"+d,s.title="Jump to Slide "+methods.countTheSlides(),s.className="nav-item";for(var a=methods.countTheSlides()-1;0<a;a--)(e=document.createElement("li")).id="nav"+a,e.title="Jump to Slide "+a,e.className=1===a?"nav-item-is-active":"nav-item",e.setAttribute("tabindex","-1"),t=document.getElementById("nav-item-list"),n=document.getElementById("nav"+(a+1)),t.insertBefore(e,n)}},closeTocColumn:function(){document.getElementById("toc-column").className="toc-is-closed",document.getElementById("toc-button").style.backgroundImage="url('../img/TOC-default.png')"},inputHandler:function(e){e.keyCode&&38===e.keyCode?window.location="#module-nav":(e.keyCode&&78===e.keyCode&&methods.changeTheSlide("nextButton","nope"),e.keyCode&&80===e.keyCode&&methods.changeTheSlide("prevButton","nope"),"nav-item"===this.className&&methods.changeTheSlide("nav-item",this.id),"nav-item-is-active"===this.className&&methods.changeTheSlide("nav-item",this.id),"nav-item-visited"===this.className&&methods.changeTheSlide("nav-item",this.id),"TOC"===this.className&&methods.changeTheSlide("TOC",this.id),"TOC toc-item-is-active"===this.className&&methods.changeTheSlide("TOC",this.id),"toc-item-is-active"===this.className&&methods.changeTheSlide("TOC",this.id),"nextButton"===this.className&&methods.changeTheSlide("nextButton",this.id),"prevButton"===this.className&&methods.changeTheSlide("prevButton",this.id))},changeTheSlide:function(e,t){function n(e){var t="slide"+e+"TOC";document.getElementById(t).classList.add("toc-item-is-active")}var s,d,a=e,i=parseInt(methods.getActiveSlideId().substr(5)),m="slide"+(s=i<methods.countTheSlides()?i+1:1),o="slide"+(d=1===i?1:i-1),c="nav"+s,l="nav"+d;if(document.getElementById("slide"+i).className="slide",document.getElementById("nav"+i).className="nav-item-visited",document.getElementById("slide"+i+"TOC").classList.remove("toc-item-is-active"),"nav-item"===a||"nav-item-is-active"===a||"nav-item-visited"===a){this.className="nav-item-is-active";var u=t;n(u.substr(3));var r="slide"+u.substr(3);document.getElementById(r).className="activeSlide"}"nextButton"===a&&(document.getElementById(c).className="nav-item-is-active",document.getElementById(m).className="activeSlide",n(m.substr(5)));"prevButton"===a&&(document.getElementById(l).className="nav-item-is-active",document.getElementById(o).className="activeSlide",n(o.substr(5)));if("TOC"===a||"TOC toc-item-is-active"===a){var h=t,v=h.substr(0,h.length-3),g="nav"+v.substr(5);n(v.substr(5)),document.getElementById(g).className="nav-item-is-active",document.getElementById(v).className="activeSlide",window.location="#module-nav"}methods.closeTocColumn()},main:function(){methods.populateTheNavMenu(),document.getElementById("help-button").addEventListener("click",methods.openheplBox,!1);for(var e=document.getElementsByClassName("nav-item"),t=0;t<e.length;t++)e[t].addEventListener("click",methods.inputHandler,!1);document.getElementsByClassName("nav-item-is-active")[0].addEventListener("click",methods.inputHandler,!1),document.getElementById("toc-button").addEventListener("click",methods.toggleTocColumn,!1),methods.tocHandler();for(var n=document.getElementsByClassName("nextButton"),s=0;s<n.length;s++)n[s].addEventListener("click",methods.inputHandler,!1),n[s].href="#module-nav";for(var d=document.getElementsByClassName("prevButton"),a=0;a<d.length;a++)d[a].addEventListener("click",methods.inputHandler,!1),d[a].href="#module-nav";for(var i=document.getElementsByClassName("TOC"),m=0;m<i.length;m++)i[m].addEventListener("click",methods.inputHandler,!1);document.getElementById("slide1TOC").classList.add("toc-item-is-active"),document.addEventListener("keyup",methods.inputHandler,!1),methods.setProgramImgPath()}};window.onload=methods.main();