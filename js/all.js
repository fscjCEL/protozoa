var methods = {
    yellowFlash:function(){
        var slidesLength = methods.countTheSlides();
        for (var i = 0; i < slidesLength; i++) {
            var theActiveSlideElement = document.getElementById("slide"+(i+1));
            var theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            if(theFirstParagraph.parentNode.className !=="figure"){
             theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            }else{
                theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[1];
            }//end if
            theFirstParagraph.className = "TheFirst";

        }
    },//end yellowFlashFunction
    figureModalHandler: function(){
        //add the class that makes it a modal box

        var theFigureBox = this.parentNode;
        var theFigureImage = theFigureBox.children[1];
        var theFigureCaption = theFigureBox.children[2];
        var figureEval = theFigureBox.getAttribute("data-state");


        if (figureEval === "closed") {
            //closed --> open
            theFigureBox.setAttribute("data-state","open");
            theFigureBox.className = "figure-open-state";
            this.src = "img/figureClose.svg";
            if(theFigureImage.tagName === "IMG"){
                    theFigureImage.style.overflow = "scroll";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "#FFF";
                }//endif
        }//endif
        if (figureEval === "open") {
            //open--->closed
            theFigureBox.setAttribute("data-state","closed");
            theFigureBox.className = "figure-closed-state";
            this.src = "img/figureOpen.svg";
            if(theFigureCaption.tagName === "IMG"){
                    theFigureCaption.style.overflow = "visible";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "transparent";
                }//endif
        }//end if
    },//end figureModalHandler
    figureButtonInsertion:function(){
        //create a button element that will be inserted into each figure element.

        //first: gather and loop through each figure element.
        var allTheFigureElements = document.getElementsByClassName("figure");
        //each element needs to have a button inserted, and then a listener added to the button.
            for (var i = 0; i < allTheFigureElements.length; i++) {
                //create the button element
                var newFigureButtonElement = document.createElement("img");
                newFigureButtonElement.src = "img/figureOpen.svg";
                newFigureButtonElement.alt = "";
                newFigureButtonElement.className = "fullScreenButton";
                var theCurrentFigureID = "figureButton"+(i+1);
                newFigureButtonElement.id = theCurrentFigureID;
                // insertTheButton image element.
                var theFigureParentNode = allTheFigureElements[i];
                theFigureParentNode.setAttribute("data-state","closed");
                // grab the img in the box, and set it up as the reference node.
                var theIMGsInFigure = allTheFigureElements[i].getElementsByTagName("img");
                var theFigureReferenceNode = theIMGsInFigure[0];
                //now insert the button
                theFigureParentNode.insertBefore(newFigureButtonElement,Â theFigureReferenceNode);


                document.getElementById(theCurrentFigureID).addEventListener("click",methods.figureModalHandler,false);
            }//end for


    },//end figureButtonInsertion
    populateTheNavMenu: function () {
        //this function is called from main, and adds list items to the nav menu.

        //how many slides do I have?
        var theInitialSlideCount = methods.countTheSlides();
        //the initial target for insertion is the single empty li child in the mainNavList element
        var theInitialTarget = document.getElementById("mainNavList").children[0];
        //give the blank Li an ID
        theInitialTarget.id = "nav"+theInitialSlideCount;
        //these three lines set the attributes of the target element.
        theInitialTarget.className = "navElement";
        theInitialTarget.innerHTML = theInitialSlideCount;

        //now that I have a target built I can send everything else it's way.
        //NOTE:this loop counts down from the total down to one.
        for(var i=(methods.countTheSlides()-1);i>0;i--){
            //create and build the LI to be inserted
            var insertThisListItemElement = document.createElement("li");
            insertThisListItemElement.id = "nav"+i;
            if(i===1){
                insertThisListItemElement.className = "activeNavElement";
            }else{
                insertThisListItemElement.className = "navElement";
            }//end if

            insertThisListItemElement.innerHTML = i;

            var navLiParentNode = document.getElementById("mainNavList");
            var insertLiBeforeThis = document.getElementById("nav"+(i+1));

            navLiParentNode.insertBefore(insertThisListItemElement,insertLiBeforeThis);



        }//end for

    },//end populateTheNavMenu
    clickScopeTOC: function () {
        var theIDtoSend, theTOCparentID;
        theTOCparentID = this.parentNode.id;
        //alert(theTOCparentID);
        if (theTOCparentID === "tocClosedState") {
            //This TOC is CLOSED and needs to be OPENED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.openTOC(theIDtoSend);
        }//end if
        if (theTOCparentID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.closeTOC(theIDtoSend);
        }//end if
    },//end scopeTOC function
    closeTOC: function (incomingSlideID) {

        var theTOCelement = document.getElementById(incomingSlideID).parentNode.id;//so theTocTarget's parentNode
        document.getElementById(theTOCelement).className = "TOCs";
        document.getElementById(theTOCelement).id = "tocClosedState";
    },//end justCloseTOC
    openTOC: function (theIDofWHatIClicked) {
        var theTOCelement = document.getElementById(theIDofWHatIClicked).parentNode;
        //add clearfix to the open menu so it shows everything inside.

        theTOCelement.className += " clearfix";
        theTOCelement.id = "tocOpenState";

    },//end function
    traverse: function (task, node) {
        var childNode;
        //the arriving "task" is what to you want to do with the "node"
        //"node" needs to be a slide. So RIP through all the slide's children
        for (var xxx = 0; xxx < node.childNodes.length; xxx++) {
            childNode = node.childNodes[xxx];//this one variable is easier to work with.
            task(childNode);//do task to childnode.
            //if this childNode has children then lets go again.
            if (childNode.childNodes.length > 0) {
                methods.traverse(task, childNode);
            }
        }//end for
    },//end function
    tocHandler: function () {
        //called from main...this function reads the headers and subheaders from each slide, and then builds the table of contents List Items based on that.
        //It runs once when the page loads.
        var theNewElement, insertNewBefore, theNumberOfSlides, currentSlideID, currentSlideElement, theCurrentSlide;
        var stopBit = 1;

        function addTheIDToTheTOCElement() {
            var grabMyChild;
            if (document.getElementById("tocClosedState")) {
                grabMyChild = document.getElementById("tocClosedState");
            }
            if (document.getElementById("tocOpenState")) {
                grabMyChild = document.getElementById("tocOpenState");
            }

            grabMyChild.children[0].id = "theTocTarget";//set the ID of the one and only li, to set it up as a landing target for other LIs
            grabMyChild.children[0].className = "TOCtargets";//apply the classname to the same li as above.
            grabMyChild.children[0].style.listStyleType = "none";
        }//end addTheIDToTheTOCElement function
        addTheIDToTheTOCElement();
        function processCapturedNode(type, node) {//process type of "H1" and the actual <h1> element dom object
            //generate a random # to use as a header ID, and to write as an HREF target.
            //this gives me a random, usually 4 digit, number to identify and connect each header/href pair.
            var randomNumforNodes, theHREFiNeed, slideBit, newVar, linkInnerHtml;
            randomNumforNodes = Math.round((Math.random() * 10000));
            //apply the random # to the ID of the header
            node.id = theCurrentSlide + "-" + type + "-" + randomNumforNodes;//apply the ID.
            //used to control the if statement (below) that creates new slide sub lists..
            slideBit = theCurrentSlide.substr(5);
            //this variable used to create the anchor element in the TOC.
            newVar = "nav" + theCurrentSlide.substr(5);
            // build the HREF that is inserted into list item.
            theHREFiNeed = "#" + theCurrentSlide + "-" + type + "-" + randomNumforNodes;
            //build the anchor that is inserted into the list item.
            //todo only pull the slide title out of node.innerHtml and write it to this
            //linkInnerHtml variable where node.innerHTML is written currently
            //so only grab the className of slideTitle as children of node.
            var insertThisTitle;
            if(node.children[0]){
                //grabbing the slide title from the slide header itself
                insertThisTitle = node.children[1].innerHTML;
            }else{
                //nope this is a normal header with no children.
                insertThisTitle = node.innerHTML;
            }
            linkInnerHtml = "<a class='TOClink' data-href='" + theHREFiNeed + "'" + "data-destination='" + theCurrentSlide + "' " + "data-destinationNavID='" + newVar + "'>" + insertThisTitle + "</a>";

            // create the new list item
            theNewElement = document.createElement(type);//ex.type=h2
            //todo this needs to happen the other way around. It needs to write an anchor(link) around an h2

            // craft the link as the innerHTML of the list item.
            theNewElement.innerHTML = linkInnerHtml;
            if (stopBit === Number(slideBit)) {
                //Grab the parent I want to insert the list into.
                var theTOCParentMainList;//<--this should remain the same because it is the starter list.

                if (document.getElementById("tocClosedState")) {
                    theTOCParentMainList = document.getElementById("tocClosedState");
                }
                if (document.getElementById("tocOpenState")) {
                    theTOCParentMainList = document.getElementById("tocOpenState");
                }
                // create the child list that will eventually hold actual list items.
                var theSlideTOCList = document.createElement("li");//<--Dont touch.This holds each slides info
                // give the new parent list an ID
                theSlideTOCList.id = "slide" + slideBit + "TOC";
                theSlideTOCList.className = "TOC";
                // adding one span to the new parent to act as a landing pad for others.
                theSlideTOCList.innerHTML = "<span id='slide" + slideBit + "TocTarget'" + " class='hidden'></span>";
                //grab the element that is the landing pad for the new parent list.
                insertNewBefore = document.getElementById("theTocTarget");
                // execute the insertion of the new parent. This acts as a target for the list insertion and changes each time the slide changes.
                // Parent should be main list, element should be created, and insertBefore should ALWAYS be the one IDed element inside the main TOC list.
                theTOCParentMainList.insertBefore(theSlideTOCList, insertNewBefore);
                stopBit++;
            }//end if
            //grab the element for the list within the list.
            var subTocParentELement = document.getElementById("slide" + slideBit + "TOC");
            // the insert before element.
            var TocSubListTarget = document.getElementById("slide" + slideBit + "TocTarget");
            //now that I have everything put it together.
            subTocParentELement.insertBefore(theNewElement, TocSubListTarget);
        }//end processCapturedNode function
        function captureNodes(node) {
            //if (node.nodeName === "H1") {
              //  processCapturedNode("H1", node);
            //}//end if
            if (node.nodeName === "H2") {
                processCapturedNode("H2", node);
            }//end if
            if (node.nodeName === "H3") {
                processCapturedNode("H3", node);
            }//end if
            if (node.nodeName === "H4") {
                processCapturedNode("H4", node);
            }//end if
            if (node.nodeName === "H5") {
                processCapturedNode("H5", node);
            }//end if
            if (node.nodeName === "H6") {
                processCapturedNode("H6", node);
            }//end if
        }//end captureNodes function


        //RIp through all the elements on each slide to populate all the menus.

        theNumberOfSlides = methods.countTheSlides();//the total amount of slides
        //this is the main loop.
        for (var bbb = 0; bbb < theNumberOfSlides; bbb++) {//for the length of all the slides.
            currentSlideID = "slide" + (bbb + 1);//build the slide ID
            currentSlideElement = document.getElementById(currentSlideID);//grab the slide element object to rip through.
            theCurrentSlide = currentSlideElement.id;//throw the ID of the element into a variable I can use.

            methods.traverse(captureNodes, currentSlideElement);
        }//end for loop
        document.getElementById("slide1TOC").style.marginTop = "45px";


    },//end tocHandler
    givingAccess: function () {
        /* Adding ARIA roles using JS...this is the preferred method as specified in the ARIA standard */
        var allTheLinks, theBodyTag, theForms, moduleHeaders, allTheImages, allTheOrderedLists, allTheUnorderedLists, allTheListItems, theTargetURL, theElementToInsertBefore, theElementsParent, theNewElement, targetBlank;

        //give the body the document role.
        theBodyTag = document.getElementsByTagName("body");
        if (theBodyTag) {
            for (var aa = 0; aa < theBodyTag.length; aa++) {
                theBodyTag[aa].setAttribute("role", "document");
            }//end body tag for loop
        }//end bodyTagIf
        //give all forms the forms role
        theForms = document.getElementsByTagName("form");
        if (theForms) {
            for (var bb = 0; bb < theForms.length; bb++) {
                theForms[bb].setAttribute("role", "form");
            }//end theForms for loop
        }//end theFormsIf
        //give the main nav plus it's items the navigation role.
        document.getElementById("mainNav").setAttribute("role", "navigation");
        document.getElementById("mainNavList").setAttribute("role", "navigation");

        //give the module header the banner role
        moduleHeaders = document.getElementsByTagName("moduleHeader");
        if (moduleHeaders) {
            for (var cc = 0; cc < moduleHeaders.length; cc++) {
                moduleHeaders[cc].setAttribute("role", "banner");
            }//end theForms for loop
        }//end theFormsIf
        //give all images the image role
        allTheImages = document.getElementsByTagName("img");
        if (allTheImages) {
            for (var dd = 0; dd < allTheImages.length; dd++) {
                allTheImages[dd].setAttribute("role", "image");
            }//end allTheImages for loop
        }//end allTheImagesIf
        //give all ordered lists the list role
        allTheOrderedLists = document.getElementsByTagName("ol");
        if (allTheOrderedLists) {
            for (var ee = 0; ee < allTheOrderedLists.length; ee++) {
                allTheOrderedLists[ee].setAttribute("role", "list");
            }//end allTheOrderedLists for loop
        }//end allTheOrderedListsIf
        //give all unordered lists the list role.
        allTheUnorderedLists = document.getElementsByTagName("ul");
        if (allTheOrderedLists) {
            for (var ff = 0; ff < allTheUnorderedLists.length; ff++) {
                if (allTheUnorderedLists[ff].id !== "mainNavList") {
                    allTheUnorderedLists[ff].setAttribute("role", "list");
                }//end if
            }//end allTheUnorderedLists for loop
        }//end allTheUnorderedLists If
        //give all list items the listItem role.
        allTheListItems = document.getElementsByTagName("li");
        if (allTheListItems) {
            for (var gg = 0; gg < allTheListItems.length; gg++) {
                if (allTheListItems[gg].className !== "navElement" && allTheListItems[gg].className !== "activeNavElement") {
                    allTheListItems[gg].setAttribute("role", "listitem");
                }//end if
            }//end allTheListItems for loop
        }//end allTheListItems If
        //add the title attribute to all anchors that open a new window, giving people a warning that it is happeneing.
        allTheLinks = document.getElementsByTagName("a");
        for (var s = 0; s < allTheLinks.length; s++) {
            targetBlank = allTheLinks[s].getAttribute("target");
            if (targetBlank === "_blank") {
                theTargetURL = allTheLinks[s].getAttribute("href");
                allTheLinks[s].setAttribute("title", "NOTE: This external link will bring you to the following URL:" + theTargetURL);
                //create an element, then insert it in before the anchor element.
                theElementToInsertBefore = allTheLinks[s];
                theElementsParent = theElementToInsertBefore.parentNode;
                theNewElement = document.createElement("img");
                //this inserts a little glyph before each link within the content that leads to an external page. All internal links do not get the glyph. .
                theNewElement.id = "link" + s;
                theNewElement.alt = "";
                theNewElement.style.width = "10px";
                theNewElement.style.height = "10px";
                theNewElement.style.margin = "0";
                theNewElement.style.padding = "0 3px 6px 0";
                theNewElement.src = "img/externalLinkIcon.png";
                if (allTheLinks[s].className !== "celLogoLink") {
                    theElementsParent.insertBefore(theNewElement, theElementToInsertBefore);
                }//end if
            }//end if
        }//end for
    },//end givingAccess function
    countTheSlides: function () {
        var theSlidesClassedActive, theSlidesClassedSlide;
        //gather all the slide elements, and all the activeSlideElements, and add them together give you a total slide count.
        theSlidesClassedSlide = document.getElementsByClassName("slide");
        theSlidesClassedActive = document.getElementsByClassName("activeSlide");
        return theSlidesClassedActive.length + theSlidesClassedSlide.length;
    },//end countTheSlides
    navMenu: function () {
        //this function makes sure the nav menu items line up proper.
        //get the amount of slides(that gives us how many nav items as well)
        var howmanySlides = methods.countTheSlides();
        //figure out how wide each should be as a percentage
        var theWidth = 100/howmanySlides;

        for(var x=0;x < howmanySlides;x++){
            //rip through all the nav elements and apply the width
            var theELementID = "nav"+(x+1);
            document.getElementById(theELementID).style.width = theWidth+"%";
        }//end for

    },//end navMenu function
    audioButtonHandler: function () {
        //This paints the audio player within the audio button.
        //It is only called when someone hits the audio button.
        var audioControlBox, theParentAudioBox, showAudioButton, audioCopy, audioLandingPad, theFreshAudioElement, sourceTag1, sourceTag2, insertAudioControlParent, audioLandingPadID, theDocTitle, theNumberToAppend;
        //establish a baseline parent element.
        theParentAudioBox = this.parentNode;//this is activeAudioBox
        //now loop through all the children and find the audioControls element so I can insert the player into it.
        for (var m = 0; m < theParentAudioBox.children.length; m++) {
            //found it.
            if (theParentAudioBox.children[m].className === "audioControls") {
                //so lets create the audio tag
                //I need a parent, and the element I want to insert it before.
                //here is the parent, how convenient.
                insertAudioControlParent = theParentAudioBox.children[m] || null;
                //where do I want to insert this element.
                audioLandingPadID = insertAudioControlParent.children[0].id;
                audioLandingPad = document.getElementById(audioLandingPadID);
                //easy way to grab the slide #to append to the ID of the audio element.
                theNumberToAppend = audioLandingPadID.substr(15);
                //create the element to insert
                theFreshAudioElement = document.createElement("audio");
                theFreshAudioElement.controls = "yes";//set the control bit
                theFreshAudioElement.id = "audioSlide" + theNumberToAppend;//give it an ID
                //insert a couple source elements into that new audio element.
                theDocTitle = document.title;//this should be set to course#-Module# BIO1000-M2
                //insert the audio element so I can insert sources inside of it.
                insertAudioControlParent.insertBefore(theFreshAudioElement, audioLandingPad);
                //create the source elements which point to the audio file.
                sourceTag1 = document.createElement("source");//for the m4a
                sourceTag2 = document.createElement("source");//for the ogg
                //build the file paths to the local audio files.
                sourceTag1.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".m4a";
                sourceTag1.type = "audio/mpeg";
                sourceTag2.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".ogg";
                sourceTag2.type = "audio/ogg";
                //now throw the source elements into the audio tag.
                theFreshAudioElement.appendChild(sourceTag1);
                theFreshAudioElement.appendChild(sourceTag2);
            }//endif
            //this reveals the audio player element, and hides the audio button element.
            if (theParentAudioBox.children[m].className === "audioButton") {
                showAudioButton = theParentAudioBox.children[m];//this is the audio button element.
                //open it.
                //showAudioButton.children[0].className = "openAudioButton";
                for (var o = 0; o < theParentAudioBox.children.length; o++) {
                    //opened
                    //this opens the box that contains the play pause buttons.
                    if (theParentAudioBox.children[o].className === "audioControls") {
                        audioControlBox = theParentAudioBox.children[o];
                        showAudioButton.style.height = "0px";
                        showAudioButton.style.width = "0px";
                    }//end if
                    if (theParentAudioBox.children[o].className === "audioButton") {
                        audioCopy = theParentAudioBox.children[o];
                    }//end if
                }//end for
            }//end if
        }//end for
    },//end audioButtonHandler method
    helpButtonHandler: function () {
        //opens and closed the help menu
        var theHelpBoxElement,theHelpButtonParent;

         theHelpButtonParent = document.getElementById("helpButton").parentNode;
        if (theHelpButtonParent.id === "helpboxOpenState") {
            //opened, and needs to be closed
            theHelpBoxElement = document.getElementById("helpboxOpenState");
            theHelpBoxElement.className = "helpBox";
            theHelpBoxElement.id = "helpboxClosedState";
        }else{
            //closed, and needs to be opened
            theHelpBoxElement = document.getElementById("helpboxClosedState");
            theHelpBoxElement.className += " clearfix";
            theHelpBoxElement.id = "helpboxOpenState";
        }//end if

    },//end helpButtonHandler method
    changeTheActualSlide: function (destination, destinationNAV, navID, slideID) {
        //change the active slide to pastSlide this needs to occur on the nav and header elements.
        //initialize
        var theActiveSlideElement, theSlideCompareElementID, theOneIAmWorkingON, destinationsChildClassname, theChildsClassname, theActiveSlideHeaderElement, theDestinationSlideElement, INeedTheSlideNumber, allTheAudioElements, theIDforTOC, theTOCParentalID, evaluateThisSlideClassname;


        //this is to hide the header info past slide one, but I need to retain the header size to make up for the buttons located within.
        INeedTheSlideNumber = destination.substr(5);
        if(INeedTheSlideNumber>1){
            //push these styles out to a CSS class.
            //slide 2 or above
            document.getElementById("theCourseIcon").style.height="0px";
            document.getElementById("theCourseIcon").style.width="0px";
            document.getElementById("courseNumber").style.overflow = "hidden";
            document.getElementById("courseNumber").style.opacity = "0";
            document.getElementById("courseNumber").style.width = "0px";
            document.getElementById("courseNumber").style.height = "0px";


            document.getElementById("moduleNumber").style.opacity="0";
            document.getElementById("moduleNumber").style.width="0px";
            document.getElementById("moduleNumber").style.height="0px";
            document.getElementById("moduleNumber").style.overflow="hidden";




            document.getElementById("theModuleHeader").style.height="3.25em";

        }else{
            //slide 1
            document.getElementById("theCourseIcon").style.height="100px";
            document.getElementById("theCourseIcon").style.width="100px";
            document.getElementById("courseNumber").style.opacity="1";
            document.getElementById("courseNumber").style.overflow="visible";
            document.getElementById("courseNumber").style.width="60vw";
            document.getElementById("courseNumber").style.height="auto";


            document.getElementById("moduleNumber").style.opacity="1";
            document.getElementById("moduleNumber").style.overflow="visible";
            document.getElementById("moduleNumber").style.width="70%";
            document.getElementById("moduleNumber").style.height="auto";


            document.getElementById("theModuleHeader").style.height="auto";
        }
        //end if
        //TOC should close
        theIDforTOC = "theTocTarget";
        theTOCParentalID = document.getElementById(theIDforTOC).parentNode.id;
        if (theTOCParentalID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.
            methods.closeTOC(theIDforTOC);
        }//end if
        //first pause any audio players that might have been started.
        allTheAudioElements = document.getElementsByTagName("audio");
        //making sure there are audio elements to pause
        if (allTheAudioElements.length > 0) {
            for (var p = 0; p < allTheAudioElements.length; p++) {
                allTheAudioElements[p].pause();
            }//end for
        }//end if
        //

        //This is the ID of the current active slide.
        theActiveSlideElement = document.getElementById(slideID);
        //i am changing slides, so I need to change the look of the active header to an pastSlideHeader
        for (var g = 0; g < theActiveSlideElement.children.length; g++) {
            theChildsClassname = theActiveSlideElement.children[g].className;
            if (theChildsClassname === "slideHeader clearfix" || theChildsClassname === "futureSlideHeader clearfix") {
                theActiveSlideHeaderElement = theActiveSlideElement.children[g];
                theActiveSlideHeaderElement.className = "pastSlideHeader clearfix";
            }//end if
        }//end for
        //the nav element to past style
        document.getElementById(navID).className = "pastNavElement";

        //apply the active styles to the destination slide, nav, and footer
        theDestinationSlideElement = document.getElementById(destination);
        //hit the slide
        theDestinationSlideElement.className = "activeSlide";
        //now the slidecontent and footer for the mobile view
        for (var h = 0; h < theDestinationSlideElement.children.length; h++) {
            destinationsChildClassname = theDestinationSlideElement.children[h].className;
            if (destinationsChildClassname === "futureSlideHeader clearfix") {
                theDestinationSlideElement.children[h].className = "slideHeader clearfix";
            }//end if
            if (destinationsChildClassname === "slideContent") {
                theDestinationSlideElement.children[h].className = "activeSlideContent";
            }//end if
            if (destinationsChildClassname === "slideFooter") {
                theDestinationSlideElement.children[h].className = "activeSlideFooter";
            }//end if
            if (destinationsChildClassname === "audioBox") {
                theDestinationSlideElement.children[h].className = "activeAudioBox";
            }//end if
        }//end for
        //now the nav element
        document.getElementById(destinationNAV).className = "activeNavElement";
        //rip through the slides changing the non-active slides to there default classes. (hiding them)
        for (var i = 0; i < methods.countTheSlides(); i++) {
            theSlideCompareElementID = document.getElementById("slide" + (i + 1)).id;
            //if this slide is NOT the one I JUST marked as "active"
            if (theSlideCompareElementID !== destination) {
                //grab the slide element
                theOneIAmWorkingON = document.getElementById(theSlideCompareElementID);
                //change the slide to a normal slide.
                theOneIAmWorkingON.className = "slide";
                for (var j = 0; j < theOneIAmWorkingON.children.length; j++) {
                    evaluateThisSlideClassname = theOneIAmWorkingON.children[j].className;

                    switch (evaluateThisSlideClassname) {
                        case "pastSlideHeader clearfix":
                            //These is here because I want to leave these alone. THey need to retain that class.
                            break;
                        case "futureSlideHeader clearfix":
                            break;
                        case "activeSlideContent":
                            theOneIAmWorkingON.children[j].className = "slideContent";
                            break;
                        case "activeSlideFooter":
                            theOneIAmWorkingON.children[j].className = "slideFooter";
                            break;
                        case "activeAudioBox":
                            theOneIAmWorkingON.children[j].className = "audioBox";
                            break;
                    }//end switch
                }//end for


            }//end if
        }//end for

    },//end changeTheActualSlide Method
    ascertainScope: function (type, theDestination) {
        //the purpose of this function is to send the proper 4 bits of info to the change the actual slide method.
        //maybe in the future combine this with whichInput Method.
        var destinationSlideIDNUM, destinationNavID, destinationNUM, destinationSlideID, theActiveNavID, theActiveNavNumber, theActiveSlideID;
        //the active slide
        theActiveSlideID = document.getElementsByClassName("activeSlide")[0].id;
        //build the corresponding Nav# by using the active slide number.
        theActiveNavNumber = theActiveSlideID.substr(5);
        //the active nav ID
        theActiveNavID = "nav" + theActiveNavNumber;
        //depending on which input passed build the info to send along to change the slide properly.
        switch (type) {
            case "next":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the last slide?
                if ((destinationNUM + 1) > methods.countTheSlides()) {
                    destinationSlideID = "slide1";//yes I am at the last slide, and will loop back to the beginning.
                    destinationNavID = "nav1";
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                } else {
                    destinationSlideID = "slide" + (destinationNUM + 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM + 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end  if
                break;
            case "prev":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the first slide?
                if ((destinationNUM - 1) === 0) {
                    destinationSlideID = "slide1";
                    destinationNavID = "nav1";
                    alert(" You must be mistaken...There is nothing previous to the first slide");//yes I am at the first slide, and
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);// will do nothing
                } else {
                    destinationSlideID = "slide" + (destinationNUM - 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM - 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end if
                break;
            case "nextButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));//pull off slide from slide# leaving just the number
                destinationSlideID = "slide" + (destinationSlideIDNUM + 1);
                destinationNavID = "nav" + (destinationSlideIDNUM + 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "prevButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + (destinationSlideIDNUM - 1);
                destinationNavID = "nav" + (destinationSlideIDNUM - 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "navElement":

                destinationSlideIDNUM = Number(theDestination.substr(3));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = theDestination;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "slideHeader":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "tableOfContentsLink":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                //this is here because of it's scope, and so it will jump to and open a slide.
                window.location = "#"+destinationSlideID;
                break;
        }//end switch
    },//end ascertainScope method
    whichInput: function (zz) {
        if (this.className === "TOClink") {

            methods.ascertainScope("tableOfContentsLink", this.getAttribute("data-destination"));
        }//end if
        //clicked the next button
        if (this.className === "nextButton") {

            methods.ascertainScope("nextButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a previous button
        if (this.className === "prevButton") {
            methods.ascertainScope("prevButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a nav element
        if (this.className === "navElement" || this.className === "activeNavElement" || this.className === "pastNavElement") {
            methods.ascertainScope("navElement", this.id);
        }//end if

        //clicked a header element
        if (this.className === "slideHeader clearfix" || this.className === "pastSlideHeader clearfix" || this.className === "futureSlideHeader clearfix") {
            methods.ascertainScope("slideHeader", this.parentNode.id);
        }//end if
        if (zz.keyCode === 78) {
            methods.ascertainScope("next", null);
        }//end if

        // Pressed the P key
        if (zz.keyCode === 80) {
            methods.ascertainScope("prev", null);
        }//end if

        // Pressed the UP arrow key
        if (zz.keyCode === 38) {
            //console.log("Top of the page",null);
        }//end if
        return null;
    },//end whichInput Method
    renderTheAudioButtons: function () {
        //this inserts the audio button onto the slides that have the data-hasAudioPlayer attribute set to Yes.
        var theHasAudioPlayerFlag, allTheSectionElements, theAudioInsertionTargetElement, theAudioInsertionParentElement, theAudioBoxElement, theAudioButtonElement, theAudioControlsElement, audioLandingPadElement, theSlideNumberNum, theSlideDOMElement;
        //craft the audioBox Element with all it's children.
        //Gather the section elements into one variable
        allTheSectionElements = document.getElementsByTagName("section");
        //use a loop to rip through each section element one by one.
        for (var m = 0; m < allTheSectionElements.length; m++) {
            //if this section is a slide or is the active slide
            if (allTheSectionElements[m].className === "slide" || allTheSectionElements[m].className === "activeSlide") {
                // READ the data attribute I am looking for.
                theHasAudioPlayerFlag = allTheSectionElements[m].getAttribute("data-hasAudioPlayer");
                //YES this slide is supposed to have audio.
                if (theHasAudioPlayerFlag === "yes") {
                    //now build this --> element parent.insertbefore(insertThisElement, insertItBeforeTHISElement)
                    //grab the slide
                    theSlideDOMElement = document.getElementById(allTheSectionElements[m].id);
                    //within the slide element identify the parent THEN target elements.
                    for (var nn = 0; nn < theSlideDOMElement.children.length; nn++) {
                        //insertion target is the slide header.
                        if (theSlideDOMElement.children[nn].className === "slideFooter" || theSlideDOMElement.children[nn].className === "activeSlideFooter") {

                            theAudioInsertionParentElement = theSlideDOMElement.children[nn];
                            if (theAudioInsertionParentElement.children[0].className === "nextPrevious") {
                                theAudioInsertionTargetElement = theAudioInsertionParentElement.children[0];
                            }//end if
                        }//end if
                        //change this to theSlideDOMElement

                    }//end for
                    //now create the element to insert and perform the insertion

                    theAudioBoxElement = document.createElement("section");
                    if (theAudioInsertionParentElement.id === "slide1") {
                        theAudioBoxElement.className = "activeAudioBox";
                    } else {
                        theAudioBoxElement.className = "audioBox";
                    }//end if

                    theAudioButtonElement = document.createElement("div");
                    theAudioButtonElement.className = "audioButton";
                    theAudioControlsElement = document.createElement("div");
                    theAudioControlsElement.className = "audioControls";
                    audioLandingPadElement = document.createElement("span");
                    theSlideNumberNum = theSlideDOMElement.id.substr(5);
                    audioLandingPadElement.id = "audioLandingPad" + theSlideNumberNum;
                    theAudioControlsElement.appendChild(audioLandingPadElement);
                    theAudioBoxElement.appendChild(theAudioButtonElement);
                    theAudioBoxElement.appendChild(theAudioControlsElement);
                    // This is where the audio player gets inserted into the audioControls element.
                    theAudioInsertionParentElement.insertBefore(theAudioBoxElement, theAudioInsertionTargetElement);


                }//end audioFlag if

            }//end sectionElements if
        }//end for
    },//end renderTheAudioButtons method
    main: function () {

        //this function is limited to mostly adding event listeners. The one exception, as it stands, is rendering the audio buttons on the page. This has extremely low overhead, and is the first of a two step process designed to make page loading more efficient.
        var slideHeaderElements, futureSlideHeaderElements, allTheAudioButtons, allThePreviousSLideButtons, allTheNextSLideButtons, allTheNavElements;


        //putting all the elements into the nav menu based on how many slide there are.
        methods.populateTheNavMenu();

        //====================== now add the listeners
        //All the slide headers.


        slideHeaderElements = document.getElementsByClassName("slideHeader clearfix");
        for (var a = 0; a < slideHeaderElements.length; a++) {
            slideHeaderElements[a].addEventListener("click", methods.whichInput, false);
        }//end for

        futureSlideHeaderElements = document.getElementsByClassName("futureSlideHeader clearfix");
        for (var o = 0; o < futureSlideHeaderElements.length; o++) {
            futureSlideHeaderElements[o].addEventListener("click", methods.whichInput, false);
        }//end for
        //All the nav elements

        allTheNavElements = document.getElementsByClassName("navElement");
        for (var d = 0; d < allTheNavElements.length; d++) {
            allTheNavElements[d].addEventListener("click", methods.whichInput, false);
        }//end for
        document.getElementsByClassName("activeNavElement")[0].addEventListener("click", methods.whichInput, false);


        //All the next buttons
        allTheNextSLideButtons = document.getElementsByClassName("nextButton");
        for (var f = 0; f < (allTheNextSLideButtons.length - 1); f++) {
            allTheNextSLideButtons[f].addEventListener("click", methods.whichInput, false);
        }//end for

        //All the previous buttons
        allThePreviousSLideButtons = document.getElementsByClassName("prevButton");
        for (var g = 0; g < allThePreviousSLideButtons.length; g++) {
            allThePreviousSLideButtons[g].addEventListener("click", methods.whichInput, false);
        }//end for

        allTheAudioButtons = document.getElementsByClassName("audioButton");


        //Handling Keyboard input

        document.addEventListener('keyup', methods.whichInput, false);

        //the help button
        document.getElementById("helpButton").addEventListener("click", methods.helpButtonHandler, false);

        //now render all the audio buttons on the slides that have the attribute data-hasAudioPlayer="yes"
        methods.renderTheAudioButtons();//first phase
        //and now that they exist in the DOM add the listeners.
        for (var l = 0; l < allTheAudioButtons.length; l++) {//second phase
            allTheAudioButtons[l].addEventListener("click", methods.audioButtonHandler, false);
        }//end for


        //this adds accessibility features to the rendered document.
        methods.givingAccess();
        //this reads each slide, grabs all the headers, then adds those headers to the Table of Contents.
        //essentially building the Table of Contents at the top of each slide.
        methods.tocHandler();

        //the TOC button
        document.getElementById("theTocTarget").addEventListener("click", methods.clickScopeTOC, false);
        //each TOC link
        var tocListItems = document.getElementsByClassName("TOClink");
        for (var ttt = 0; ttt < tocListItems.length; ttt++) {
            tocListItems[ttt].addEventListener("click", methods.whichInput, false);
        }//end for

        //this creates the nav menu elements.
       methods.navMenu();
       //call the figure build
       methods.figureButtonInsertion();
       methods.yellowFlash();




    }//end main method
};//end methods object.
window.onload = methods.main();





var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,i,m;if(n=Math.round(1e4*Math.random()),t.id=o+"-"+e+"-"+n,s=o.substr(5),i="nav"+o.substr(5),l="#"+o+"-"+e+"-"+n,m="<a class='TOClink' data-href='"+l+"'data-destination='"+o+"' data-destinationNavID='"+i+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=m,c===Number(s)){var r;document.getElementById("moduleTOC-default")&&(r=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(r=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),r.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,i,o,c=1;e(),l=methods.countTheSlides();for(var m=0;l>m;m++)s="slide"+(m+1),i=document.getElementById(s),o=i.id,methods.traverse(n,i);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,i,o,c,m,r,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var p=0;p<l.length;p++)l[p].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var y=0;y<s.length;y++)"mainNavList"!==s[y].id&&s[y].setAttribute("role","list");if(i=document.getElementsByTagName("li"))for(var B=0;B<i.length;B++)"navElement"!==i[B].className&&"activeNavElement"!==i[B].className&&i[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(o=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+o),c=e[E],m=c.parentNode,r=document.createElement("img"),r.id="link"+E,r.style.width="10px",r.style.height="10px",r.style.margin="0",r.style.padding="0 3px 6px 0",r.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&m.insertBefore(r,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,i,o,c,m,r;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(o=t.children[u]||null,c=o.children[0].id,d=document.getElementById(c),r=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+r,m=document.title,o.insertBefore(l,d),s=document.createElement("source"),i=document.createElement("source"),s.src="media/"+m+"-S"+r+".m4a",s.type="audio/mpeg",i.src="media/"+m+"-S"+r+".ogg",i.type="audio/ogg",l.appendChild(s),l.appendChild(i)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,i,o,c,m,r,u,h,g,v;if(r=e.substr(5),r>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var p=0;p<d.children.length;p++)o=d.children[p].className,("slideHeader clearfix"===o||"futureSlideHeader clearfix"===o)&&(c=d.children[p],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>r?"0"+r:r,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),m=document.getElementById(e),m.className="activeSlide";for(var y=0;y<m.children.length;y++)i=m.children[y].className,"futureSlideHeader clearfix"===i&&(m.children[y].className="slideHeader clearfix"),"slideContent"===i&&(m.children[y].className="activeSlideContent"),"slideFooter"===i&&(m.children[y].className="activeSlideFooter"),"audioBox"===i&&(m.children[y].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,i,o;switch(o=document.getElementsByClassName("activeSlide")[0].id,i=o.substr(5),s="nav"+i,e){case"next":d=Number(o.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,o));break;case"prev":d=Number(o.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,o));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,o);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,o);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,o);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,i,o,c;t=document.getElementsByTagName("section");for(var m=0;m<t.length;m++)if(("slide"===t[m].className||"activeSlide"===t[m].className)&&(e=t[m].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[m].id);for(var r=0;r<c.children.length;r++)("slideFooter"===c.children[r].className||"activeSlideFooter"===c.children[r].className)&&(a=c.children[r],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",i=document.createElement("span"),o=c.id.substr(5),i.id="audioLandingPad"+o,s.appendChild(i),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var i=0;i<t.length;i++)t[i].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var o=0;o<l.length;o++)l[o].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var m=0;m<a.length;m++)a[m].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var r=0;r<n.length;r++)n[r].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods = {
    yellowFlash:function(){
        var slidesLength = methods.countTheSlides();
        for (var i = 0; i < slidesLength; i++) {
            var theActiveSlideElement = document.getElementById("slide"+(i+1));
            var theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            if(theFirstParagraph.parentNode.className !=="figure"){
             theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            }else{
                theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[1];
            }//end if
            theFirstParagraph.className = "TheFirst";

        }
    },//end yellowFlashFunction
    figureModalHandler: function(){
        //add the class that makes it a modal box

        var theFigureBox = this.parentNode;
        var theFigureImage = theFigureBox.children[1];
        var theFigureCaption = theFigureBox.children[2];
        var figureEval = theFigureBox.getAttribute("data-state");


        if (figureEval === "closed") {
            //closed --> open
            theFigureBox.setAttribute("data-state","open");
            theFigureBox.className = "figure-open-state";
            this.src = "img/figureClose.svg";
            if(theFigureImage.tagName === "IMG"){
                    theFigureImage.style.overflow = "scroll";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "#FFF";
                }//endif
        }//endif
        if (figureEval === "open") {
            //open--->closed
            theFigureBox.setAttribute("data-state","closed");
            theFigureBox.className = "figure-closed-state";
            this.src = "img/figureOpen.svg";
            if(theFigureCaption.tagName === "IMG"){
                    theFigureCaption.style.overflow = "visible";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "transparent";
                }//endif
        }//end if
    },//end figureModalHandler
    figureButtonInsertion:function(){
        //create a button element that will be inserted into each figure element.

        //first: gather and loop through each figure element.
        var allTheFigureElements = document.getElementsByClassName("figure");
        //each element needs to have a button inserted, and then a listener added to the button.
            for (var i = 0; i < allTheFigureElements.length; i++) {
                //create the button element
                var newFigureButtonElement = document.createElement("img");
                newFigureButtonElement.src = "img/figureOpen.svg";
                newFigureButtonElement.alt = "";
                newFigureButtonElement.className = "fullScreenButton";
                var theCurrentFigureID = "figureButton"+(i+1);
                newFigureButtonElement.id = theCurrentFigureID;
                // insertTheButton image element.
                var theFigureParentNode = allTheFigureElements[i];
                theFigureParentNode.setAttribute("data-state","closed");
                // grab the img in the box, and set it up as the reference node.
                var theIMGsInFigure = allTheFigureElements[i].getElementsByTagName("img");
                var theFigureReferenceNode = theIMGsInFigure[0];
                //now insert the button
                theFigureParentNode.insertBefore(newFigureButtonElement,Â theFigureReferenceNode);


                document.getElementById(theCurrentFigureID).addEventListener("click",methods.figureModalHandler,false);
            }//end for


    },//end figureButtonInsertion
    populateTheNavMenu: function () {
        //this function is called from main, and adds list items to the nav menu.

        //how many slides do I have?
        var theInitialSlideCount = methods.countTheSlides();
        //the initial target for insertion is the single empty li child in the mainNavList element
        var theInitialTarget = document.getElementById("mainNavList").children[0];
        //give the blank Li an ID
        theInitialTarget.id = "nav"+theInitialSlideCount;
        //these three lines set the attributes of the target element.
        theInitialTarget.className = "navElement";
        theInitialTarget.innerHTML = theInitialSlideCount;

        //now that I have a target built I can send everything else it's way.
        //NOTE:this loop counts down from the total down to one.
        for(var i=(methods.countTheSlides()-1);i>0;i--){
            //create and build the LI to be inserted
            var insertThisListItemElement = document.createElement("li");
            insertThisListItemElement.id = "nav"+i;
            if(i===1){
                insertThisListItemElement.className = "activeNavElement";
            }else{
                insertThisListItemElement.className = "navElement";
            }//end if

            insertThisListItemElement.innerHTML = i;

            var navLiParentNode = document.getElementById("mainNavList");
            var insertLiBeforeThis = document.getElementById("nav"+(i+1));

            navLiParentNode.insertBefore(insertThisListItemElement,insertLiBeforeThis);



        }//end for

    },//end populateTheNavMenu
    clickScopeTOC: function () {
        var theIDtoSend, theTOCparentID;
        theTOCparentID = this.parentNode.id;
        //alert(theTOCparentID);
        if (theTOCparentID === "tocClosedState") {
            //This TOC is CLOSED and needs to be OPENED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.openTOC(theIDtoSend);
        }//end if
        if (theTOCparentID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.closeTOC(theIDtoSend);
        }//end if
    },//end scopeTOC function
    closeTOC: function (incomingSlideID) {

        var theTOCelement = document.getElementById(incomingSlideID).parentNode.id;//so theTocTarget's parentNode
        document.getElementById(theTOCelement).className = "TOCs";
        document.getElementById(theTOCelement).id = "tocClosedState";
    },//end justCloseTOC
    openTOC: function (theIDofWHatIClicked) {
        var theTOCelement = document.getElementById(theIDofWHatIClicked).parentNode;
        //add clearfix to the open menu so it shows everything inside.

        theTOCelement.className += " clearfix";
        theTOCelement.id = "tocOpenState";

    },//end function
    traverse: function (task, node) {
        var childNode;
        //the arriving "task" is what to you want to do with the "node"
        //"node" needs to be a slide. So RIP through all the slide's children
        for (var xxx = 0; xxx < node.childNodes.length; xxx++) {
            childNode = node.childNodes[xxx];//this one variable is easier to work with.
            task(childNode);//do task to childnode.
            //if this childNode has children then lets go again.
            if (childNode.childNodes.length > 0) {
                methods.traverse(task, childNode);
            }
        }//end for
    },//end function
    tocHandler: function () {
        //called from main...this function reads the headers and subheaders from each slide, and then builds the table of contents List Items based on that.
        //It runs once when the page loads.
        var theNewElement, insertNewBefore, theNumberOfSlides, currentSlideID, currentSlideElement, theCurrentSlide;
        var stopBit = 1;

        function addTheIDToTheTOCElement() {
            var grabMyChild;
            if (document.getElementById("tocClosedState")) {
                grabMyChild = document.getElementById("tocClosedState");
            }
            if (document.getElementById("tocOpenState")) {
                grabMyChild = document.getElementById("tocOpenState");
            }

            grabMyChild.children[0].id = "theTocTarget";//set the ID of the one and only li, to set it up as a landing target for other LIs
            grabMyChild.children[0].className = "TOCtargets";//apply the classname to the same li as above.
            grabMyChild.children[0].style.listStyleType = "none";
        }//end addTheIDToTheTOCElement function
        addTheIDToTheTOCElement();
        function processCapturedNode(type, node) {//process type of "H1" and the actual <h1> element dom object
            //generate a random # to use as a header ID, and to write as an HREF target.
            //this gives me a random, usually 4 digit, number to identify and connect each header/href pair.
            var randomNumforNodes, theHREFiNeed, slideBit, newVar, linkInnerHtml;
            randomNumforNodes = Math.round((Math.random() * 10000));
            //apply the random # to the ID of the header
            node.id = theCurrentSlide + "-" + type + "-" + randomNumforNodes;//apply the ID.
            //used to control the if statement (below) that creates new slide sub lists..
            slideBit = theCurrentSlide.substr(5);
            //this variable used to create the anchor element in the TOC.
            newVar = "nav" + theCurrentSlide.substr(5);
            // build the HREF that is inserted into list item.
            theHREFiNeed = "#" + theCurrentSlide + "-" + type + "-" + randomNumforNodes;
            //build the anchor that is inserted into the list item.
            //todo only pull the slide title out of node.innerHtml and write it to this
            //linkInnerHtml variable where node.innerHTML is written currently
            //so only grab the className of slideTitle as children of node.
            var insertThisTitle;
            if(node.children[0]){
                //grabbing the slide title from the slide header itself
                insertThisTitle = node.children[1].innerHTML;
            }else{
                //nope this is a normal header with no children.
                insertThisTitle = node.innerHTML;
            }
            linkInnerHtml = "<a class='TOClink' data-href='" + theHREFiNeed + "'" + "data-destination='" + theCurrentSlide + "' " + "data-destinationNavID='" + newVar + "'>" + insertThisTitle + "</a>";

            // create the new list item
            theNewElement = document.createElement(type);//ex.type=h2
            //todo this needs to happen the other way around. It needs to write an anchor(link) around an h2

            // craft the link as the innerHTML of the list item.
            theNewElement.innerHTML = linkInnerHtml;
            if (stopBit === Number(slideBit)) {
                //Grab the parent I want to insert the list into.
                var theTOCParentMainList;//<--this should remain the same because it is the starter list.

                if (document.getElementById("tocClosedState")) {
                    theTOCParentMainList = document.getElementById("tocClosedState");
                }
                if (document.getElementById("tocOpenState")) {
                    theTOCParentMainList = document.getElementById("tocOpenState");
                }
                // create the child list that will eventually hold actual list items.
                var theSlideTOCList = document.createElement("li");//<--Dont touch.This holds each slides info
                // give the new parent list an ID
                theSlideTOCList.id = "slide" + slideBit + "TOC";
                theSlideTOCList.className = "TOC";
                // adding one span to the new parent to act as a landing pad for others.
                theSlideTOCList.innerHTML = "<span id='slide" + slideBit + "TocTarget'" + " class='hidden'></span>";
                //grab the element that is the landing pad for the new parent list.
                insertNewBefore = document.getElementById("theTocTarget");
                // execute the insertion of the new parent. This acts as a target for the list insertion and changes each time the slide changes.
                // Parent should be main list, element should be created, and insertBefore should ALWAYS be the one IDed element inside the main TOC list.
                theTOCParentMainList.insertBefore(theSlideTOCList, insertNewBefore);
                stopBit++;
            }//end if
            //grab the element for the list within the list.
            var subTocParentELement = document.getElementById("slide" + slideBit + "TOC");
            // the insert before element.
            var TocSubListTarget = document.getElementById("slide" + slideBit + "TocTarget");
            //now that I have everything put it together.
            subTocParentELement.insertBefore(theNewElement, TocSubListTarget);
        }//end processCapturedNode function
        function captureNodes(node) {
            //if (node.nodeName === "H1") {
              //  processCapturedNode("H1", node);
            //}//end if
            if (node.nodeName === "H2") {
                processCapturedNode("H2", node);
            }//end if
            if (node.nodeName === "H3") {
                processCapturedNode("H3", node);
            }//end if
            if (node.nodeName === "H4") {
                processCapturedNode("H4", node);
            }//end if
            if (node.nodeName === "H5") {
                processCapturedNode("H5", node);
            }//end if
            if (node.nodeName === "H6") {
                processCapturedNode("H6", node);
            }//end if
        }//end captureNodes function


        //RIp through all the elements on each slide to populate all the menus.

        theNumberOfSlides = methods.countTheSlides();//the total amount of slides
        //this is the main loop.
        for (var bbb = 0; bbb < theNumberOfSlides; bbb++) {//for the length of all the slides.
            currentSlideID = "slide" + (bbb + 1);//build the slide ID
            currentSlideElement = document.getElementById(currentSlideID);//grab the slide element object to rip through.
            theCurrentSlide = currentSlideElement.id;//throw the ID of the element into a variable I can use.

            methods.traverse(captureNodes, currentSlideElement);
        }//end for loop
        document.getElementById("slide1TOC").style.marginTop = "45px";


    },//end tocHandler
    givingAccess: function () {
        /* Adding ARIA roles using JS...this is the preferred method as specified in the ARIA standard */
        var allTheLinks, theBodyTag, theForms, moduleHeaders, allTheImages, allTheOrderedLists, allTheUnorderedLists, allTheListItems, theTargetURL, theElementToInsertBefore, theElementsParent, theNewElement, targetBlank;

        //give the body the document role.
        theBodyTag = document.getElementsByTagName("body");
        if (theBodyTag) {
            for (var aa = 0; aa < theBodyTag.length; aa++) {
                theBodyTag[aa].setAttribute("role", "document");
            }//end body tag for loop
        }//end bodyTagIf
        //give all forms the forms role
        theForms = document.getElementsByTagName("form");
        if (theForms) {
            for (var bb = 0; bb < theForms.length; bb++) {
                theForms[bb].setAttribute("role", "form");
            }//end theForms for loop
        }//end theFormsIf
        //give the main nav plus it's items the navigation role.
        document.getElementById("mainNav").setAttribute("role", "navigation");
        document.getElementById("mainNavList").setAttribute("role", "navigation");

        //give the module header the banner role
        moduleHeaders = document.getElementsByTagName("moduleHeader");
        if (moduleHeaders) {
            for (var cc = 0; cc < moduleHeaders.length; cc++) {
                moduleHeaders[cc].setAttribute("role", "banner");
            }//end theForms for loop
        }//end theFormsIf
        //give all images the image role
        allTheImages = document.getElementsByTagName("img");
        if (allTheImages) {
            for (var dd = 0; dd < allTheImages.length; dd++) {
                allTheImages[dd].setAttribute("role", "image");
            }//end allTheImages for loop
        }//end allTheImagesIf
        //give all ordered lists the list role
        allTheOrderedLists = document.getElementsByTagName("ol");
        if (allTheOrderedLists) {
            for (var ee = 0; ee < allTheOrderedLists.length; ee++) {
                allTheOrderedLists[ee].setAttribute("role", "list");
            }//end allTheOrderedLists for loop
        }//end allTheOrderedListsIf
        //give all unordered lists the list role.
        allTheUnorderedLists = document.getElementsByTagName("ul");
        if (allTheOrderedLists) {
            for (var ff = 0; ff < allTheUnorderedLists.length; ff++) {
                if (allTheUnorderedLists[ff].id !== "mainNavList") {
                    allTheUnorderedLists[ff].setAttribute("role", "list");
                }//end if
            }//end allTheUnorderedLists for loop
        }//end allTheUnorderedLists If
        //give all list items the listItem role.
        allTheListItems = document.getElementsByTagName("li");
        if (allTheListItems) {
            for (var gg = 0; gg < allTheListItems.length; gg++) {
                if (allTheListItems[gg].className !== "navElement" && allTheListItems[gg].className !== "activeNavElement") {
                    allTheListItems[gg].setAttribute("role", "listitem");
                }//end if
            }//end allTheListItems for loop
        }//end allTheListItems If
        //add the title attribute to all anchors that open a new window, giving people a warning that it is happeneing.
        allTheLinks = document.getElementsByTagName("a");
        for (var s = 0; s < allTheLinks.length; s++) {
            targetBlank = allTheLinks[s].getAttribute("target");
            if (targetBlank === "_blank") {
                theTargetURL = allTheLinks[s].getAttribute("href");
                allTheLinks[s].setAttribute("title", "NOTE: This external link will bring you to the following URL:" + theTargetURL);
                //create an element, then insert it in before the anchor element.
                theElementToInsertBefore = allTheLinks[s];
                theElementsParent = theElementToInsertBefore.parentNode;
                theNewElement = document.createElement("img");
                //this inserts a little glyph before each link within the content that leads to an external page. All internal links do not get the glyph. .
                theNewElement.id = "link" + s;
                theNewElement.alt = "";
                theNewElement.style.width = "10px";
                theNewElement.style.height = "10px";
                theNewElement.style.margin = "0";
                theNewElement.style.padding = "0 3px 6px 0";
                theNewElement.src = "img/externalLinkIcon.png";
                if (allTheLinks[s].className !== "celLogoLink") {
                    theElementsParent.insertBefore(theNewElement, theElementToInsertBefore);
                }//end if
            }//end if
        }//end for
    },//end givingAccess function
    countTheSlides: function () {
        var theSlidesClassedActive, theSlidesClassedSlide;
        //gather all the slide elements, and all the activeSlideElements, and add them together give you a total slide count.
        theSlidesClassedSlide = document.getElementsByClassName("slide");
        theSlidesClassedActive = document.getElementsByClassName("activeSlide");
        return theSlidesClassedActive.length + theSlidesClassedSlide.length;
    },//end countTheSlides
    navMenu: function () {
        //this function makes sure the nav menu items line up proper.
        //get the amount of slides(that gives us how many nav items as well)
        var howmanySlides = methods.countTheSlides();
        //figure out how wide each should be as a percentage
        var theWidth = 100/howmanySlides;

        for(var x=0;x < howmanySlides;x++){
            //rip through all the nav elements and apply the width
            var theELementID = "nav"+(x+1);
            document.getElementById(theELementID).style.width = theWidth+"%";
        }//end for

    },//end navMenu function
    audioButtonHandler: function () {
        //This paints the audio player within the audio button.
        //It is only called when someone hits the audio button.
        var audioControlBox, theParentAudioBox, showAudioButton, audioCopy, audioLandingPad, theFreshAudioElement, sourceTag1, sourceTag2, insertAudioControlParent, audioLandingPadID, theDocTitle, theNumberToAppend;
        //establish a baseline parent element.
        theParentAudioBox = this.parentNode;//this is activeAudioBox
        //now loop through all the children and find the audioControls element so I can insert the player into it.
        for (var m = 0; m < theParentAudioBox.children.length; m++) {
            //found it.
            if (theParentAudioBox.children[m].className === "audioControls") {
                //so lets create the audio tag
                //I need a parent, and the element I want to insert it before.
                //here is the parent, how convenient.
                insertAudioControlParent = theParentAudioBox.children[m] || null;
                //where do I want to insert this element.
                audioLandingPadID = insertAudioControlParent.children[0].id;
                audioLandingPad = document.getElementById(audioLandingPadID);
                //easy way to grab the slide #to append to the ID of the audio element.
                theNumberToAppend = audioLandingPadID.substr(15);
                //create the element to insert
                theFreshAudioElement = document.createElement("audio");
                theFreshAudioElement.controls = "yes";//set the control bit
                theFreshAudioElement.id = "audioSlide" + theNumberToAppend;//give it an ID
                //insert a couple source elements into that new audio element.
                theDocTitle = document.title;//this should be set to course#-Module# BIO1000-M2
                //insert the audio element so I can insert sources inside of it.
                insertAudioControlParent.insertBefore(theFreshAudioElement, audioLandingPad);
                //create the source elements which point to the audio file.
                sourceTag1 = document.createElement("source");//for the m4a
                sourceTag2 = document.createElement("source");//for the ogg
                //build the file paths to the local audio files.
                sourceTag1.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".m4a";
                sourceTag1.type = "audio/mpeg";
                sourceTag2.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".ogg";
                sourceTag2.type = "audio/ogg";
                //now throw the source elements into the audio tag.
                theFreshAudioElement.appendChild(sourceTag1);
                theFreshAudioElement.appendChild(sourceTag2);
            }//endif
            //this reveals the audio player element, and hides the audio button element.
            if (theParentAudioBox.children[m].className === "audioButton") {
                showAudioButton = theParentAudioBox.children[m];//this is the audio button element.
                //open it.
                //showAudioButton.children[0].className = "openAudioButton";
                for (var o = 0; o < theParentAudioBox.children.length; o++) {
                    //opened
                    //this opens the box that contains the play pause buttons.
                    if (theParentAudioBox.children[o].className === "audioControls") {
                        audioControlBox = theParentAudioBox.children[o];
                        showAudioButton.style.height = "0px";
                        showAudioButton.style.width = "0px";
                    }//end if
                    if (theParentAudioBox.children[o].className === "audioButton") {
                        audioCopy = theParentAudioBox.children[o];
                    }//end if
                }//end for
            }//end if
        }//end for
    },//end audioButtonHandler method
    helpButtonHandler: function () {
        //opens and closed the help menu
        var theHelpBoxElement,theHelpButtonParent;

         theHelpButtonParent = document.getElementById("helpButton").parentNode;
        if (theHelpButtonParent.id === "helpboxOpenState") {
            //opened, and needs to be closed
            theHelpBoxElement = document.getElementById("helpboxOpenState");
            theHelpBoxElement.className = "helpBox";
            theHelpBoxElement.id = "helpboxClosedState";
        }else{
            //closed, and needs to be opened
            theHelpBoxElement = document.getElementById("helpboxClosedState");
            theHelpBoxElement.className += " clearfix";
            theHelpBoxElement.id = "helpboxOpenState";
        }//end if

    },//end helpButtonHandler method
    changeTheActualSlide: function (destination, destinationNAV, navID, slideID) {
        //change the active slide to pastSlide this needs to occur on the nav and header elements.
        //initialize
        var theActiveSlideElement, theSlideCompareElementID, theOneIAmWorkingON, destinationsChildClassname, theChildsClassname, theActiveSlideHeaderElement, theDestinationSlideElement, INeedTheSlideNumber, allTheAudioElements, theIDforTOC, theTOCParentalID, evaluateThisSlideClassname;


        //this is to hide the header info past slide one, but I need to retain the header size to make up for the buttons located within.
        INeedTheSlideNumber = destination.substr(5);
        if(INeedTheSlideNumber>1){
            //push these styles out to a CSS class.
            //slide 2 or above
            document.getElementById("theCourseIcon").style.height="0px";
            document.getElementById("theCourseIcon").style.width="0px";
            document.getElementById("courseNumber").style.overflow = "hidden";
            document.getElementById("courseNumber").style.opacity = "0";
            document.getElementById("courseNumber").style.width = "0px";
            document.getElementById("courseNumber").style.height = "0px";


            document.getElementById("moduleNumber").style.opacity="0";
            document.getElementById("moduleNumber").style.width="0px";
            document.getElementById("moduleNumber").style.height="0px";
            document.getElementById("moduleNumber").style.overflow="hidden";




            document.getElementById("theModuleHeader").style.height="3.25em";

        }else{
            //slide 1
            document.getElementById("theCourseIcon").style.height="100px";
            document.getElementById("theCourseIcon").style.width="100px";
            document.getElementById("courseNumber").style.opacity="1";
            document.getElementById("courseNumber").style.overflow="visible";
            document.getElementById("courseNumber").style.width="60vw";
            document.getElementById("courseNumber").style.height="auto";


            document.getElementById("moduleNumber").style.opacity="1";
            document.getElementById("moduleNumber").style.overflow="visible";
            document.getElementById("moduleNumber").style.width="70%";
            document.getElementById("moduleNumber").style.height="auto";


            document.getElementById("theModuleHeader").style.height="auto";
        }
        //end if
        //TOC should close
        theIDforTOC = "theTocTarget";
        theTOCParentalID = document.getElementById(theIDforTOC).parentNode.id;
        if (theTOCParentalID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.
            methods.closeTOC(theIDforTOC);
        }//end if
        //first pause any audio players that might have been started.
        allTheAudioElements = document.getElementsByTagName("audio");
        //making sure there are audio elements to pause
        if (allTheAudioElements.length > 0) {
            for (var p = 0; p < allTheAudioElements.length; p++) {
                allTheAudioElements[p].pause();
            }//end for
        }//end if
        //

        //This is the ID of the current active slide.
        theActiveSlideElement = document.getElementById(slideID);
        //i am changing slides, so I need to change the look of the active header to an pastSlideHeader
        for (var g = 0; g < theActiveSlideElement.children.length; g++) {
            theChildsClassname = theActiveSlideElement.children[g].className;
            if (theChildsClassname === "slideHeader clearfix" || theChildsClassname === "futureSlideHeader clearfix") {
                theActiveSlideHeaderElement = theActiveSlideElement.children[g];
                theActiveSlideHeaderElement.className = "pastSlideHeader clearfix";
            }//end if
        }//end for
        //the nav element to past style
        document.getElementById(navID).className = "pastNavElement";

        //apply the active styles to the destination slide, nav, and footer
        theDestinationSlideElement = document.getElementById(destination);
        //hit the slide
        theDestinationSlideElement.className = "activeSlide";
        //now the slidecontent and footer for the mobile view
        for (var h = 0; h < theDestinationSlideElement.children.length; h++) {
            destinationsChildClassname = theDestinationSlideElement.children[h].className;
            if (destinationsChildClassname === "futureSlideHeader clearfix") {
                theDestinationSlideElement.children[h].className = "slideHeader clearfix";
            }//end if
            if (destinationsChildClassname === "slideContent") {
                theDestinationSlideElement.children[h].className = "activeSlideContent";
            }//end if
            if (destinationsChildClassname === "slideFooter") {
                theDestinationSlideElement.children[h].className = "activeSlideFooter";
            }//end if
            if (destinationsChildClassname === "audioBox") {
                theDestinationSlideElement.children[h].className = "activeAudioBox";
            }//end if
        }//end for
        //now the nav element
        document.getElementById(destinationNAV).className = "activeNavElement";
        //rip through the slides changing the non-active slides to there default classes. (hiding them)
        for (var i = 0; i < methods.countTheSlides(); i++) {
            theSlideCompareElementID = document.getElementById("slide" + (i + 1)).id;
            //if this slide is NOT the one I JUST marked as "active"
            if (theSlideCompareElementID !== destination) {
                //grab the slide element
                theOneIAmWorkingON = document.getElementById(theSlideCompareElementID);
                //change the slide to a normal slide.
                theOneIAmWorkingON.className = "slide";
                for (var j = 0; j < theOneIAmWorkingON.children.length; j++) {
                    evaluateThisSlideClassname = theOneIAmWorkingON.children[j].className;

                    switch (evaluateThisSlideClassname) {
                        case "pastSlideHeader clearfix":
                            //These is here because I want to leave these alone. THey need to retain that class.
                            break;
                        case "futureSlideHeader clearfix":
                            break;
                        case "activeSlideContent":
                            theOneIAmWorkingON.children[j].className = "slideContent";
                            break;
                        case "activeSlideFooter":
                            theOneIAmWorkingON.children[j].className = "slideFooter";
                            break;
                        case "activeAudioBox":
                            theOneIAmWorkingON.children[j].className = "audioBox";
                            break;
                    }//end switch
                }//end for


            }//end if
        }//end for

    },//end changeTheActualSlide Method
    ascertainScope: function (type, theDestination) {
        //the purpose of this function is to send the proper 4 bits of info to the change the actual slide method.
        //maybe in the future combine this with whichInput Method.
        var destinationSlideIDNUM, destinationNavID, destinationNUM, destinationSlideID, theActiveNavID, theActiveNavNumber, theActiveSlideID;
        //the active slide
        theActiveSlideID = document.getElementsByClassName("activeSlide")[0].id;
        //build the corresponding Nav# by using the active slide number.
        theActiveNavNumber = theActiveSlideID.substr(5);
        //the active nav ID
        theActiveNavID = "nav" + theActiveNavNumber;
        //depending on which input passed build the info to send along to change the slide properly.
        switch (type) {
            case "next":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the last slide?
                if ((destinationNUM + 1) > methods.countTheSlides()) {
                    destinationSlideID = "slide1";//yes I am at the last slide, and will loop back to the beginning.
                    destinationNavID = "nav1";
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                } else {
                    destinationSlideID = "slide" + (destinationNUM + 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM + 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end  if
                break;
            case "prev":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the first slide?
                if ((destinationNUM - 1) === 0) {
                    destinationSlideID = "slide1";
                    destinationNavID = "nav1";
                    alert(" You must be mistaken...There is nothing previous to the first slide");//yes I am at the first slide, and
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);// will do nothing
                } else {
                    destinationSlideID = "slide" + (destinationNUM - 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM - 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end if
                break;
            case "nextButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));//pull off slide from slide# leaving just the number
                destinationSlideID = "slide" + (destinationSlideIDNUM + 1);
                destinationNavID = "nav" + (destinationSlideIDNUM + 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "prevButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + (destinationSlideIDNUM - 1);
                destinationNavID = "nav" + (destinationSlideIDNUM - 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "navElement":

                destinationSlideIDNUM = Number(theDestination.substr(3));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = theDestination;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "slideHeader":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "tableOfContentsLink":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                //this is here because of it's scope, and so it will jump to and open a slide.
                window.location = "#"+destinationSlideID;
                break;
        }//end switch
    },//end ascertainScope method
    whichInput: function (zz) {
        if (this.className === "TOClink") {

            methods.ascertainScope("tableOfContentsLink", this.getAttribute("data-destination"));
        }//end if
        //clicked the next button
        if (this.className === "nextButton") {

            methods.ascertainScope("nextButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a previous button
        if (this.className === "prevButton") {
            methods.ascertainScope("prevButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a nav element
        if (this.className === "navElement" || this.className === "activeNavElement" || this.className === "pastNavElement") {
            methods.ascertainScope("navElement", this.id);
        }//end if

        //clicked a header element
        if (this.className === "slideHeader clearfix" || this.className === "pastSlideHeader clearfix" || this.className === "futureSlideHeader clearfix") {
            methods.ascertainScope("slideHeader", this.parentNode.id);
        }//end if
        if (zz.keyCode === 78) {
            methods.ascertainScope("next", null);
        }//end if

        // Pressed the P key
        if (zz.keyCode === 80) {
            methods.ascertainScope("prev", null);
        }//end if

        // Pressed the UP arrow key
        if (zz.keyCode === 38) {
            //console.log("Top of the page",null);
        }//end if
        return null;
    },//end whichInput Method
    renderTheAudioButtons: function () {
        //this inserts the audio button onto the slides that have the data-hasAudioPlayer attribute set to Yes.
        var theHasAudioPlayerFlag, allTheSectionElements, theAudioInsertionTargetElement, theAudioInsertionParentElement, theAudioBoxElement, theAudioButtonElement, theAudioControlsElement, audioLandingPadElement, theSlideNumberNum, theSlideDOMElement;
        //craft the audioBox Element with all it's children.
        //Gather the section elements into one variable
        allTheSectionElements = document.getElementsByTagName("section");
        //use a loop to rip through each section element one by one.
        for (var m = 0; m < allTheSectionElements.length; m++) {
            //if this section is a slide or is the active slide
            if (allTheSectionElements[m].className === "slide" || allTheSectionElements[m].className === "activeSlide") {
                // READ the data attribute I am looking for.
                theHasAudioPlayerFlag = allTheSectionElements[m].getAttribute("data-hasAudioPlayer");
                //YES this slide is supposed to have audio.
                if (theHasAudioPlayerFlag === "yes") {
                    //now build this --> element parent.insertbefore(insertThisElement, insertItBeforeTHISElement)
                    //grab the slide
                    theSlideDOMElement = document.getElementById(allTheSectionElements[m].id);
                    //within the slide element identify the parent THEN target elements.
                    for (var nn = 0; nn < theSlideDOMElement.children.length; nn++) {
                        //insertion target is the slide header.
                        if (theSlideDOMElement.children[nn].className === "slideFooter" || theSlideDOMElement.children[nn].className === "activeSlideFooter") {

                            theAudioInsertionParentElement = theSlideDOMElement.children[nn];
                            if (theAudioInsertionParentElement.children[0].className === "nextPrevious") {
                                theAudioInsertionTargetElement = theAudioInsertionParentElement.children[0];
                            }//end if
                        }//end if
                        //change this to theSlideDOMElement

                    }//end for
                    //now create the element to insert and perform the insertion

                    theAudioBoxElement = document.createElement("section");
                    if (theAudioInsertionParentElement.id === "slide1") {
                        theAudioBoxElement.className = "activeAudioBox";
                    } else {
                        theAudioBoxElement.className = "audioBox";
                    }//end if

                    theAudioButtonElement = document.createElement("div");
                    theAudioButtonElement.className = "audioButton";
                    theAudioControlsElement = document.createElement("div");
                    theAudioControlsElement.className = "audioControls";
                    audioLandingPadElement = document.createElement("span");
                    theSlideNumberNum = theSlideDOMElement.id.substr(5);
                    audioLandingPadElement.id = "audioLandingPad" + theSlideNumberNum;
                    theAudioControlsElement.appendChild(audioLandingPadElement);
                    theAudioBoxElement.appendChild(theAudioButtonElement);
                    theAudioBoxElement.appendChild(theAudioControlsElement);
                    // This is where the audio player gets inserted into the audioControls element.
                    theAudioInsertionParentElement.insertBefore(theAudioBoxElement, theAudioInsertionTargetElement);


                }//end audioFlag if

            }//end sectionElements if
        }//end for
    },//end renderTheAudioButtons method
    main: function () {

        //this function is limited to mostly adding event listeners. The one exception, as it stands, is rendering the audio buttons on the page. This has extremely low overhead, and is the first of a two step process designed to make page loading more efficient.
        var slideHeaderElements, futureSlideHeaderElements, allTheAudioButtons, allThePreviousSLideButtons, allTheNextSLideButtons, allTheNavElements;


        //putting all the elements into the nav menu based on how many slide there are.
        methods.populateTheNavMenu();

        //====================== now add the listeners
        //All the slide headers.


        slideHeaderElements = document.getElementsByClassName("slideHeader clearfix");
        for (var a = 0; a < slideHeaderElements.length; a++) {
            slideHeaderElements[a].addEventListener("click", methods.whichInput, false);
        }//end for

        futureSlideHeaderElements = document.getElementsByClassName("futureSlideHeader clearfix");
        for (var o = 0; o < futureSlideHeaderElements.length; o++) {
            futureSlideHeaderElements[o].addEventListener("click", methods.whichInput, false);
        }//end for
        //All the nav elements

        allTheNavElements = document.getElementsByClassName("navElement");
        for (var d = 0; d < allTheNavElements.length; d++) {
            allTheNavElements[d].addEventListener("click", methods.whichInput, false);
        }//end for
        document.getElementsByClassName("activeNavElement")[0].addEventListener("click", methods.whichInput, false);


        //All the next buttons
        allTheNextSLideButtons = document.getElementsByClassName("nextButton");
        for (var f = 0; f < (allTheNextSLideButtons.length - 1); f++) {
            allTheNextSLideButtons[f].addEventListener("click", methods.whichInput, false);
        }//end for

        //All the previous buttons
        allThePreviousSLideButtons = document.getElementsByClassName("prevButton");
        for (var g = 0; g < allThePreviousSLideButtons.length; g++) {
            allThePreviousSLideButtons[g].addEventListener("click", methods.whichInput, false);
        }//end for

        allTheAudioButtons = document.getElementsByClassName("audioButton");


        //Handling Keyboard input

        document.addEventListener('keyup', methods.whichInput, false);

        //the help button
        document.getElementById("helpButton").addEventListener("click", methods.helpButtonHandler, false);

        //now render all the audio buttons on the slides that have the attribute data-hasAudioPlayer="yes"
        methods.renderTheAudioButtons();//first phase
        //and now that they exist in the DOM add the listeners.
        for (var l = 0; l < allTheAudioButtons.length; l++) {//second phase
            allTheAudioButtons[l].addEventListener("click", methods.audioButtonHandler, false);
        }//end for


        //this adds accessibility features to the rendered document.
        methods.givingAccess();
        //this reads each slide, grabs all the headers, then adds those headers to the Table of Contents.
        //essentially building the Table of Contents at the top of each slide.
        methods.tocHandler();

        //the TOC button
        document.getElementById("theTocTarget").addEventListener("click", methods.clickScopeTOC, false);
        //each TOC link
        var tocListItems = document.getElementsByClassName("TOClink");
        for (var ttt = 0; ttt < tocListItems.length; ttt++) {
            tocListItems[ttt].addEventListener("click", methods.whichInput, false);
        }//end for

        //this creates the nav menu elements.
       methods.navMenu();
       //call the figure build
       methods.figureButtonInsertion();
       methods.yellowFlash();




    }//end main method
};//end methods object.
window.onload = methods.main();





var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,i,m;if(n=Math.round(1e4*Math.random()),t.id=o+"-"+e+"-"+n,s=o.substr(5),i="nav"+o.substr(5),l="#"+o+"-"+e+"-"+n,m="<a class='TOClink' data-href='"+l+"'data-destination='"+o+"' data-destinationNavID='"+i+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=m,c===Number(s)){var r;document.getElementById("moduleTOC-default")&&(r=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(r=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),r.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,i,o,c=1;e(),l=methods.countTheSlides();for(var m=0;l>m;m++)s="slide"+(m+1),i=document.getElementById(s),o=i.id,methods.traverse(n,i);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,i,o,c,m,r,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var p=0;p<l.length;p++)l[p].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var y=0;y<s.length;y++)"mainNavList"!==s[y].id&&s[y].setAttribute("role","list");if(i=document.getElementsByTagName("li"))for(var B=0;B<i.length;B++)"navElement"!==i[B].className&&"activeNavElement"!==i[B].className&&i[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(o=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+o),c=e[E],m=c.parentNode,r=document.createElement("img"),r.id="link"+E,r.style.width="10px",r.style.height="10px",r.style.margin="0",r.style.padding="0 3px 6px 0",r.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&m.insertBefore(r,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,i,o,c,m,r;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(o=t.children[u]||null,c=o.children[0].id,d=document.getElementById(c),r=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+r,m=document.title,o.insertBefore(l,d),s=document.createElement("source"),i=document.createElement("source"),s.src="media/"+m+"-S"+r+".m4a",s.type="audio/mpeg",i.src="media/"+m+"-S"+r+".ogg",i.type="audio/ogg",l.appendChild(s),l.appendChild(i)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,i,o,c,m,r,u,h,g,v;if(r=e.substr(5),r>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var p=0;p<d.children.length;p++)o=d.children[p].className,("slideHeader clearfix"===o||"futureSlideHeader clearfix"===o)&&(c=d.children[p],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>r?"0"+r:r,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),m=document.getElementById(e),m.className="activeSlide";for(var y=0;y<m.children.length;y++)i=m.children[y].className,"futureSlideHeader clearfix"===i&&(m.children[y].className="slideHeader clearfix"),"slideContent"===i&&(m.children[y].className="activeSlideContent"),"slideFooter"===i&&(m.children[y].className="activeSlideFooter"),"audioBox"===i&&(m.children[y].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,i,o;switch(o=document.getElementsByClassName("activeSlide")[0].id,i=o.substr(5),s="nav"+i,e){case"next":d=Number(o.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,o));break;case"prev":d=Number(o.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,o));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,o);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,o);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,o);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,i,o,c;t=document.getElementsByTagName("section");for(var m=0;m<t.length;m++)if(("slide"===t[m].className||"activeSlide"===t[m].className)&&(e=t[m].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[m].id);for(var r=0;r<c.children.length;r++)("slideFooter"===c.children[r].className||"activeSlideFooter"===c.children[r].className)&&(a=c.children[r],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",i=document.createElement("span"),o=c.id.substr(5),i.id="audioLandingPad"+o,s.appendChild(i),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var i=0;i<t.length;i++)t[i].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var o=0;o<l.length;o++)l[o].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var m=0;m<a.length;m++)a[m].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var r=0;r<n.length;r++)n[r].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",
s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",
l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods = {
    yellowFlash:function(){
        var slidesLength = methods.countTheSlides();
        for (var i = 0; i < slidesLength; i++) {
            var theActiveSlideElement = document.getElementById("slide"+(i+1));
            var theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            if(theFirstParagraph.parentNode.className !=="figure"){
             theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            }else{
                theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[1];
            }//end if
            theFirstParagraph.className = "TheFirst";

        }
    },//end yellowFlashFunction
    figureModalHandler: function(){
        //add the class that makes it a modal box

        var theFigureBox = this.parentNode;
        var theFigureImage = theFigureBox.children[1];
        var theFigureCaption = theFigureBox.children[2];
        var figureEval = theFigureBox.getAttribute("data-state");


        if (figureEval === "closed") {
            //closed --> open
            theFigureBox.setAttribute("data-state","open");
            theFigureBox.className = "figure-open-state";
            this.src = "img/figureClose.svg";
            if(theFigureImage.tagName === "IMG"){
                    theFigureImage.style.overflow = "scroll";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "#FFF";
                }//endif
        }//endif
        if (figureEval === "open") {
            //open--->closed
            theFigureBox.setAttribute("data-state","closed");
            theFigureBox.className = "figure-closed-state";
            this.src = "img/figureOpen.svg";
            if(theFigureCaption.tagName === "IMG"){
                    theFigureCaption.style.overflow = "visible";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "transparent";
                }//endif
        }//end if
    },//end figureModalHandler
    figureButtonInsertion:function(){
        //create a button element that will be inserted into each figure element.

        //first: gather and loop through each figure element.
        var allTheFigureElements = document.getElementsByClassName("figure");
        //each element needs to have a button inserted, and then a listener added to the button.
            for (var i = 0; i < allTheFigureElements.length; i++) {
                //create the button element
                var newFigureButtonElement = document.createElement("img");
                newFigureButtonElement.src = "img/figureOpen.svg";
                newFigureButtonElement.alt = "";
                newFigureButtonElement.className = "fullScreenButton";
                var theCurrentFigureID = "figureButton"+(i+1);
                newFigureButtonElement.id = theCurrentFigureID;
                // insertTheButton image element.
                var theFigureParentNode = allTheFigureElements[i];
                theFigureParentNode.setAttribute("data-state","closed");
                // grab the img in the box, and set it up as the reference node.
                var theIMGsInFigure = allTheFigureElements[i].getElementsByTagName("img");
                var theFigureReferenceNode = theIMGsInFigure[0];
                //now insert the button
                theFigureParentNode.insertBefore(newFigureButtonElement,Â theFigureReferenceNode);


                document.getElementById(theCurrentFigureID).addEventListener("click",methods.figureModalHandler,false);
            }//end for


    },//end figureButtonInsertion
    populateTheNavMenu: function () {
        //this function is called from main, and adds list items to the nav menu.

        //how many slides do I have?
        var theInitialSlideCount = methods.countTheSlides();
        //the initial target for insertion is the single empty li child in the mainNavList element
        var theInitialTarget = document.getElementById("mainNavList").children[0];
        //give the blank Li an ID
        theInitialTarget.id = "nav"+theInitialSlideCount;
        //these three lines set the attributes of the target element.
        theInitialTarget.className = "navElement";
        theInitialTarget.innerHTML = theInitialSlideCount;

        //now that I have a target built I can send everything else it's way.
        //NOTE:this loop counts down from the total down to one.
        for(var i=(methods.countTheSlides()-1);i>0;i--){
            //create and build the LI to be inserted
            var insertThisListItemElement = document.createElement("li");
            insertThisListItemElement.id = "nav"+i;
            if(i===1){
                insertThisListItemElement.className = "activeNavElement";
            }else{
                insertThisListItemElement.className = "navElement";
            }//end if

            insertThisListItemElement.innerHTML = i;

            var navLiParentNode = document.getElementById("mainNavList");
            var insertLiBeforeThis = document.getElementById("nav"+(i+1));

            navLiParentNode.insertBefore(insertThisListItemElement,insertLiBeforeThis);



        }//end for

    },//end populateTheNavMenu
    clickScopeTOC: function () {
        var theIDtoSend, theTOCparentID;
        theTOCparentID = this.parentNode.id;
        //alert(theTOCparentID);
        if (theTOCparentID === "tocClosedState") {
            //This TOC is CLOSED and needs to be OPENED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.openTOC(theIDtoSend);
        }//end if
        if (theTOCparentID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.closeTOC(theIDtoSend);
        }//end if
    },//end scopeTOC function
    closeTOC: function (incomingSlideID) {

        var theTOCelement = document.getElementById(incomingSlideID).parentNode.id;//so theTocTarget's parentNode
        document.getElementById(theTOCelement).className = "TOCs";
        document.getElementById(theTOCelement).id = "tocClosedState";
    },//end justCloseTOC
    openTOC: function (theIDofWHatIClicked) {
        var theTOCelement = document.getElementById(theIDofWHatIClicked).parentNode;
        //add clearfix to the open menu so it shows everything inside.

        theTOCelement.className += " clearfix";
        theTOCelement.id = "tocOpenState";

    },//end function
    traverse: function (task, node) {
        var childNode;
        //the arriving "task" is what to you want to do with the "node"
        //"node" needs to be a slide. So RIP through all the slide's children
        for (var xxx = 0; xxx < node.childNodes.length; xxx++) {
            childNode = node.childNodes[xxx];//this one variable is easier to work with.
            task(childNode);//do task to childnode.
            //if this childNode has children then lets go again.
            if (childNode.childNodes.length > 0) {
                methods.traverse(task, childNode);
            }
        }//end for
    },//end function
    tocHandler: function () {
        //called from main...this function reads the headers and subheaders from each slide, and then builds the table of contents List Items based on that.
        //It runs once when the page loads.
        var theNewElement, insertNewBefore, theNumberOfSlides, currentSlideID, currentSlideElement, theCurrentSlide;
        var stopBit = 1;

        function addTheIDToTheTOCElement() {
            var grabMyChild;
            if (document.getElementById("tocClosedState")) {
                grabMyChild = document.getElementById("tocClosedState");
            }
            if (document.getElementById("tocOpenState")) {
                grabMyChild = document.getElementById("tocOpenState");
            }

            grabMyChild.children[0].id = "theTocTarget";//set the ID of the one and only li, to set it up as a landing target for other LIs
            grabMyChild.children[0].className = "TOCtargets";//apply the classname to the same li as above.
            grabMyChild.children[0].style.listStyleType = "none";
        }//end addTheIDToTheTOCElement function
        addTheIDToTheTOCElement();
        function processCapturedNode(type, node) {//process type of "H1" and the actual <h1> element dom object
            //generate a random # to use as a header ID, and to write as an HREF target.
            //this gives me a random, usually 4 digit, number to identify and connect each header/href pair.
            var randomNumforNodes, theHREFiNeed, slideBit, newVar, linkInnerHtml;
            randomNumforNodes = Math.round((Math.random() * 10000));
            //apply the random # to the ID of the header
            node.id = theCurrentSlide + "-" + type + "-" + randomNumforNodes;//apply the ID.
            //used to control the if statement (below) that creates new slide sub lists..
            slideBit = theCurrentSlide.substr(5);
            //this variable used to create the anchor element in the TOC.
            newVar = "nav" + theCurrentSlide.substr(5);
            // build the HREF that is inserted into list item.
            theHREFiNeed = "#" + theCurrentSlide + "-" + type + "-" + randomNumforNodes;
            //build the anchor that is inserted into the list item.
            //todo only pull the slide title out of node.innerHtml and write it to this
            //linkInnerHtml variable where node.innerHTML is written currently
            //so only grab the className of slideTitle as children of node.
            var insertThisTitle;
            if(node.children[0]){
                //grabbing the slide title from the slide header itself
                insertThisTitle = node.children[1].innerHTML;
            }else{
                //nope this is a normal header with no children.
                insertThisTitle = node.innerHTML;
            }
            linkInnerHtml = "<a class='TOClink' data-href='" + theHREFiNeed + "'" + "data-destination='" + theCurrentSlide + "' " + "data-destinationNavID='" + newVar + "'>" + insertThisTitle + "</a>";

            // create the new list item
            theNewElement = document.createElement(type);//ex.type=h2
            //todo this needs to happen the other way around. It needs to write an anchor(link) around an h2

            // craft the link as the innerHTML of the list item.
            theNewElement.innerHTML = linkInnerHtml;
            if (stopBit === Number(slideBit)) {
                //Grab the parent I want to insert the list into.
                var theTOCParentMainList;//<--this should remain the same because it is the starter list.

                if (document.getElementById("tocClosedState")) {
                    theTOCParentMainList = document.getElementById("tocClosedState");
                }
                if (document.getElementById("tocOpenState")) {
                    theTOCParentMainList = document.getElementById("tocOpenState");
                }
                // create the child list that will eventually hold actual list items.
                var theSlideTOCList = document.createElement("li");//<--Dont touch.This holds each slides info
                // give the new parent list an ID
                theSlideTOCList.id = "slide" + slideBit + "TOC";
                theSlideTOCList.className = "TOC";
                // adding one span to the new parent to act as a landing pad for others.
                theSlideTOCList.innerHTML = "<span id='slide" + slideBit + "TocTarget'" + " class='hidden'></span>";
                //grab the element that is the landing pad for the new parent list.
                insertNewBefore = document.getElementById("theTocTarget");
                // execute the insertion of the new parent. This acts as a target for the list insertion and changes each time the slide changes.
                // Parent should be main list, element should be created, and insertBefore should ALWAYS be the one IDed element inside the main TOC list.
                theTOCParentMainList.insertBefore(theSlideTOCList, insertNewBefore);
                stopBit++;
            }//end if
            //grab the element for the list within the list.
            var subTocParentELement = document.getElementById("slide" + slideBit + "TOC");
            // the insert before element.
            var TocSubListTarget = document.getElementById("slide" + slideBit + "TocTarget");
            //now that I have everything put it together.
            subTocParentELement.insertBefore(theNewElement, TocSubListTarget);
        }//end processCapturedNode function
        function captureNodes(node) {
            //if (node.nodeName === "H1") {
              //  processCapturedNode("H1", node);
            //}//end if
            if (node.nodeName === "H2") {
                processCapturedNode("H2", node);
            }//end if
            if (node.nodeName === "H3") {
                processCapturedNode("H3", node);
            }//end if
            if (node.nodeName === "H4") {
                processCapturedNode("H4", node);
            }//end if
            if (node.nodeName === "H5") {
                processCapturedNode("H5", node);
            }//end if
            if (node.nodeName === "H6") {
                processCapturedNode("H6", node);
            }//end if
        }//end captureNodes function


        //RIp through all the elements on each slide to populate all the menus.

        theNumberOfSlides = methods.countTheSlides();//the total amount of slides
        //this is the main loop.
        for (var bbb = 0; bbb < theNumberOfSlides; bbb++) {//for the length of all the slides.
            currentSlideID = "slide" + (bbb + 1);//build the slide ID
            currentSlideElement = document.getElementById(currentSlideID);//grab the slide element object to rip through.
            theCurrentSlide = currentSlideElement.id;//throw the ID of the element into a variable I can use.

            methods.traverse(captureNodes, currentSlideElement);
        }//end for loop
        document.getElementById("slide1TOC").style.marginTop = "45px";


    },//end tocHandler
    givingAccess: function () {
        /* Adding ARIA roles using JS...this is the preferred method as specified in the ARIA standard */
        var allTheLinks, theBodyTag, theForms, moduleHeaders, allTheImages, allTheOrderedLists, allTheUnorderedLists, allTheListItems, theTargetURL, theElementToInsertBefore, theElementsParent, theNewElement, targetBlank;

        //give the body the document role.
        theBodyTag = document.getElementsByTagName("body");
        if (theBodyTag) {
            for (var aa = 0; aa < theBodyTag.length; aa++) {
                theBodyTag[aa].setAttribute("role", "document");
            }//end body tag for loop
        }//end bodyTagIf
        //give all forms the forms role
        theForms = document.getElementsByTagName("form");
        if (theForms) {
            for (var bb = 0; bb < theForms.length; bb++) {
                theForms[bb].setAttribute("role", "form");
            }//end theForms for loop
        }//end theFormsIf
        //give the main nav plus it's items the navigation role.
        document.getElementById("mainNav").setAttribute("role", "navigation");
        document.getElementById("mainNavList").setAttribute("role", "navigation");

        //give the module header the banner role
        moduleHeaders = document.getElementsByTagName("moduleHeader");
        if (moduleHeaders) {
            for (var cc = 0; cc < moduleHeaders.length; cc++) {
                moduleHeaders[cc].setAttribute("role", "banner");
            }//end theForms for loop
        }//end theFormsIf
        //give all images the image role
        allTheImages = document.getElementsByTagName("img");
        if (allTheImages) {
            for (var dd = 0; dd < allTheImages.length; dd++) {
                allTheImages[dd].setAttribute("role", "image");
            }//end allTheImages for loop
        }//end allTheImagesIf
        //give all ordered lists the list role
        allTheOrderedLists = document.getElementsByTagName("ol");
        if (allTheOrderedLists) {
            for (var ee = 0; ee < allTheOrderedLists.length; ee++) {
                allTheOrderedLists[ee].setAttribute("role", "list");
            }//end allTheOrderedLists for loop
        }//end allTheOrderedListsIf
        //give all unordered lists the list role.
        allTheUnorderedLists = document.getElementsByTagName("ul");
        if (allTheOrderedLists) {
            for (var ff = 0; ff < allTheUnorderedLists.length; ff++) {
                if (allTheUnorderedLists[ff].id !== "mainNavList") {
                    allTheUnorderedLists[ff].setAttribute("role", "list");
                }//end if
            }//end allTheUnorderedLists for loop
        }//end allTheUnorderedLists If
        //give all list items the listItem role.
        allTheListItems = document.getElementsByTagName("li");
        if (allTheListItems) {
            for (var gg = 0; gg < allTheListItems.length; gg++) {
                if (allTheListItems[gg].className !== "navElement" && allTheListItems[gg].className !== "activeNavElement") {
                    allTheListItems[gg].setAttribute("role", "listitem");
                }//end if
            }//end allTheListItems for loop
        }//end allTheListItems If
        //add the title attribute to all anchors that open a new window, giving people a warning that it is happeneing.
        allTheLinks = document.getElementsByTagName("a");
        for (var s = 0; s < allTheLinks.length; s++) {
            targetBlank = allTheLinks[s].getAttribute("target");
            if (targetBlank === "_blank") {
                theTargetURL = allTheLinks[s].getAttribute("href");
                allTheLinks[s].setAttribute("title", "NOTE: This external link will bring you to the following URL:" + theTargetURL);
                //create an element, then insert it in before the anchor element.
                theElementToInsertBefore = allTheLinks[s];
                theElementsParent = theElementToInsertBefore.parentNode;
                theNewElement = document.createElement("img");
                //this inserts a little glyph before each link within the content that leads to an external page. All internal links do not get the glyph. .
                theNewElement.id = "link" + s;
                theNewElement.alt = "";
                theNewElement.style.width = "10px";
                theNewElement.style.height = "10px";
                theNewElement.style.margin = "0";
                theNewElement.style.padding = "0 3px 6px 0";
                theNewElement.src = "img/externalLinkIcon.png";
                if (allTheLinks[s].className !== "celLogoLink") {
                    theElementsParent.insertBefore(theNewElement, theElementToInsertBefore);
                }//end if
            }//end if
        }//end for
    },//end givingAccess function
    countTheSlides: function () {
        var theSlidesClassedActive, theSlidesClassedSlide;
        //gather all the slide elements, and all the activeSlideElements, and add them together give you a total slide count.
        theSlidesClassedSlide = document.getElementsByClassName("slide");
        theSlidesClassedActive = document.getElementsByClassName("activeSlide");
        return theSlidesClassedActive.length + theSlidesClassedSlide.length;
    },//end countTheSlides
    navMenu: function () {
        //this function makes sure the nav menu items line up proper.
        //get the amount of slides(that gives us how many nav items as well)
        var howmanySlides = methods.countTheSlides();
        //figure out how wide each should be as a percentage
        var theWidth = 100/howmanySlides;

        for(var x=0;x < howmanySlides;x++){
            //rip through all the nav elements and apply the width
            var theELementID = "nav"+(x+1);
            document.getElementById(theELementID).style.width = theWidth+"%";
        }//end for

    },//end navMenu function
    audioButtonHandler: function () {
        //This paints the audio player within the audio button.
        //It is only called when someone hits the audio button.
        var audioControlBox, theParentAudioBox, showAudioButton, audioCopy, audioLandingPad, theFreshAudioElement, sourceTag1, sourceTag2, insertAudioControlParent, audioLandingPadID, theDocTitle, theNumberToAppend;
        //establish a baseline parent element.
        theParentAudioBox = this.parentNode;//this is activeAudioBox
        //now loop through all the children and find the audioControls element so I can insert the player into it.
        for (var m = 0; m < theParentAudioBox.children.length; m++) {
            //found it.
            if (theParentAudioBox.children[m].className === "audioControls") {
                //so lets create the audio tag
                //I need a parent, and the element I want to insert it before.
                //here is the parent, how convenient.
                insertAudioControlParent = theParentAudioBox.children[m] || null;
                //where do I want to insert this element.
                audioLandingPadID = insertAudioControlParent.children[0].id;
                audioLandingPad = document.getElementById(audioLandingPadID);
                //easy way to grab the slide #to append to the ID of the audio element.
                theNumberToAppend = audioLandingPadID.substr(15);
                //create the element to insert
                theFreshAudioElement = document.createElement("audio");
                theFreshAudioElement.controls = "yes";//set the control bit
                theFreshAudioElement.id = "audioSlide" + theNumberToAppend;//give it an ID
                //insert a couple source elements into that new audio element.
                theDocTitle = document.title;//this should be set to course#-Module# BIO1000-M2
                //insert the audio element so I can insert sources inside of it.
                insertAudioControlParent.insertBefore(theFreshAudioElement, audioLandingPad);
                //create the source elements which point to the audio file.
                sourceTag1 = document.createElement("source");//for the m4a
                sourceTag2 = document.createElement("source");//for the ogg
                //build the file paths to the local audio files.
                sourceTag1.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".m4a";
                sourceTag1.type = "audio/mpeg";
                sourceTag2.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".ogg";
                sourceTag2.type = "audio/ogg";
                //now throw the source elements into the audio tag.
                theFreshAudioElement.appendChild(sourceTag1);
                theFreshAudioElement.appendChild(sourceTag2);
            }//endif
            //this reveals the audio player element, and hides the audio button element.
            if (theParentAudioBox.children[m].className === "audioButton") {
                showAudioButton = theParentAudioBox.children[m];//this is the audio button element.
                //open it.
                //showAudioButton.children[0].className = "openAudioButton";
                for (var o = 0; o < theParentAudioBox.children.length; o++) {
                    //opened
                    //this opens the box that contains the play pause buttons.
                    if (theParentAudioBox.children[o].className === "audioControls") {
                        audioControlBox = theParentAudioBox.children[o];
                        showAudioButton.style.height = "0px";
                        showAudioButton.style.width = "0px";
                    }//end if
                    if (theParentAudioBox.children[o].className === "audioButton") {
                        audioCopy = theParentAudioBox.children[o];
                    }//end if
                }//end for
            }//end if
        }//end for
    },//end audioButtonHandler method
    helpButtonHandler: function () {
        //opens and closed the help menu
        var theHelpBoxElement,theHelpButtonParent;

         theHelpButtonParent = document.getElementById("helpButton").parentNode;
        if (theHelpButtonParent.id === "helpboxOpenState") {
            //opened, and needs to be closed
            theHelpBoxElement = document.getElementById("helpboxOpenState");
            theHelpBoxElement.className = "helpBox";
            theHelpBoxElement.id = "helpboxClosedState";
        }else{
            //closed, and needs to be opened
            theHelpBoxElement = document.getElementById("helpboxClosedState");
            theHelpBoxElement.className += " clearfix";
            theHelpBoxElement.id = "helpboxOpenState";
        }//end if

    },//end helpButtonHandler method
    changeTheActualSlide: function (destination, destinationNAV, navID, slideID) {
        //change the active slide to pastSlide this needs to occur on the nav and header elements.
        //initialize
        var theActiveSlideElement, theSlideCompareElementID, theOneIAmWorkingON, destinationsChildClassname, theChildsClassname, theActiveSlideHeaderElement, theDestinationSlideElement, INeedTheSlideNumber, allTheAudioElements, theIDforTOC, theTOCParentalID, evaluateThisSlideClassname;


        //this is to hide the header info past slide one, but I need to retain the header size to make up for the buttons located within.
        INeedTheSlideNumber = destination.substr(5);
        if(INeedTheSlideNumber>1){
            //push these styles out to a CSS class.
            //slide 2 or above
            document.getElementById("theCourseIcon").style.height="0px";
            document.getElementById("theCourseIcon").style.width="0px";
            document.getElementById("courseNumber").style.overflow = "hidden";
            document.getElementById("courseNumber").style.opacity = "0";
            document.getElementById("courseNumber").style.width = "0px";
            document.getElementById("courseNumber").style.height = "0px";


            document.getElementById("moduleNumber").style.opacity="0";
            document.getElementById("moduleNumber").style.width="0px";
            document.getElementById("moduleNumber").style.height="0px";
            document.getElementById("moduleNumber").style.overflow="hidden";




            document.getElementById("theModuleHeader").style.height="3.25em";

        }else{
            //slide 1
            document.getElementById("theCourseIcon").style.height="100px";
            document.getElementById("theCourseIcon").style.width="100px";
            document.getElementById("courseNumber").style.opacity="1";
            document.getElementById("courseNumber").style.overflow="visible";
            document.getElementById("courseNumber").style.width="60vw";
            document.getElementById("courseNumber").style.height="auto";


            document.getElementById("moduleNumber").style.opacity="1";
            document.getElementById("moduleNumber").style.overflow="visible";
            document.getElementById("moduleNumber").style.width="70%";
            document.getElementById("moduleNumber").style.height="auto";


            document.getElementById("theModuleHeader").style.height="auto";
        }
        //end if
        //TOC should close
        theIDforTOC = "theTocTarget";
        theTOCParentalID = document.getElementById(theIDforTOC).parentNode.id;
        if (theTOCParentalID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.
            methods.closeTOC(theIDforTOC);
        }//end if
        //first pause any audio players that might have been started.
        allTheAudioElements = document.getElementsByTagName("audio");
        //making sure there are audio elements to pause
        if (allTheAudioElements.length > 0) {
            for (var p = 0; p < allTheAudioElements.length; p++) {
                allTheAudioElements[p].pause();
            }//end for
        }//end if
        //

        //This is the ID of the current active slide.
        theActiveSlideElement = document.getElementById(slideID);
        //i am changing slides, so I need to change the look of the active header to an pastSlideHeader
        for (var g = 0; g < theActiveSlideElement.children.length; g++) {
            theChildsClassname = theActiveSlideElement.children[g].className;
            if (theChildsClassname === "slideHeader clearfix" || theChildsClassname === "futureSlideHeader clearfix") {
                theActiveSlideHeaderElement = theActiveSlideElement.children[g];
                theActiveSlideHeaderElement.className = "pastSlideHeader clearfix";
            }//end if
        }//end for
        //the nav element to past style
        document.getElementById(navID).className = "pastNavElement";

        //apply the active styles to the destination slide, nav, and footer
        theDestinationSlideElement = document.getElementById(destination);
        //hit the slide
        theDestinationSlideElement.className = "activeSlide";
        //now the slidecontent and footer for the mobile view
        for (var h = 0; h < theDestinationSlideElement.children.length; h++) {
            destinationsChildClassname = theDestinationSlideElement.children[h].className;
            if (destinationsChildClassname === "futureSlideHeader clearfix") {
                theDestinationSlideElement.children[h].className = "slideHeader clearfix";
            }//end if
            if (destinationsChildClassname === "slideContent") {
                theDestinationSlideElement.children[h].className = "activeSlideContent";
            }//end if
            if (destinationsChildClassname === "slideFooter") {
                theDestinationSlideElement.children[h].className = "activeSlideFooter";
            }//end if
            if (destinationsChildClassname === "audioBox") {
                theDestinationSlideElement.children[h].className = "activeAudioBox";
            }//end if
        }//end for
        //now the nav element
        document.getElementById(destinationNAV).className = "activeNavElement";
        //rip through the slides changing the non-active slides to there default classes. (hiding them)
        for (var i = 0; i < methods.countTheSlides(); i++) {
            theSlideCompareElementID = document.getElementById("slide" + (i + 1)).id;
            //if this slide is NOT the one I JUST marked as "active"
            if (theSlideCompareElementID !== destination) {
                //grab the slide element
                theOneIAmWorkingON = document.getElementById(theSlideCompareElementID);
                //change the slide to a normal slide.
                theOneIAmWorkingON.className = "slide";
                for (var j = 0; j < theOneIAmWorkingON.children.length; j++) {
                    evaluateThisSlideClassname = theOneIAmWorkingON.children[j].className;

                    switch (evaluateThisSlideClassname) {
                        case "pastSlideHeader clearfix":
                            //These is here because I want to leave these alone. THey need to retain that class.
                            break;
                        case "futureSlideHeader clearfix":
                            break;
                        case "activeSlideContent":
                            theOneIAmWorkingON.children[j].className = "slideContent";
                            break;
                        case "activeSlideFooter":
                            theOneIAmWorkingON.children[j].className = "slideFooter";
                            break;
                        case "activeAudioBox":
                            theOneIAmWorkingON.children[j].className = "audioBox";
                            break;
                    }//end switch
                }//end for


            }//end if
        }//end for

    },//end changeTheActualSlide Method
    ascertainScope: function (type, theDestination) {
        //the purpose of this function is to send the proper 4 bits of info to the change the actual slide method.
        //maybe in the future combine this with whichInput Method.
        var destinationSlideIDNUM, destinationNavID, destinationNUM, destinationSlideID, theActiveNavID, theActiveNavNumber, theActiveSlideID;
        //the active slide
        theActiveSlideID = document.getElementsByClassName("activeSlide")[0].id;
        //build the corresponding Nav# by using the active slide number.
        theActiveNavNumber = theActiveSlideID.substr(5);
        //the active nav ID
        theActiveNavID = "nav" + theActiveNavNumber;
        //depending on which input passed build the info to send along to change the slide properly.
        switch (type) {
            case "next":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the last slide?
                if ((destinationNUM + 1) > methods.countTheSlides()) {
                    destinationSlideID = "slide1";//yes I am at the last slide, and will loop back to the beginning.
                    destinationNavID = "nav1";
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                } else {
                    destinationSlideID = "slide" + (destinationNUM + 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM + 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end  if
                break;
            case "prev":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the first slide?
                if ((destinationNUM - 1) === 0) {
                    destinationSlideID = "slide1";
                    destinationNavID = "nav1";
                    alert(" You must be mistaken...There is nothing previous to the first slide");//yes I am at the first slide, and
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);// will do nothing
                } else {
                    destinationSlideID = "slide" + (destinationNUM - 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM - 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end if
                break;
            case "nextButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));//pull off slide from slide# leaving just the number
                destinationSlideID = "slide" + (destinationSlideIDNUM + 1);
                destinationNavID = "nav" + (destinationSlideIDNUM + 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "prevButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + (destinationSlideIDNUM - 1);
                destinationNavID = "nav" + (destinationSlideIDNUM - 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "navElement":

                destinationSlideIDNUM = Number(theDestination.substr(3));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = theDestination;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "slideHeader":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "tableOfContentsLink":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                //this is here because of it's scope, and so it will jump to and open a slide.
                window.location = "#"+destinationSlideID;
                break;
        }//end switch
    },//end ascertainScope method
    whichInput: function (zz) {
        if (this.className === "TOClink") {

            methods.ascertainScope("tableOfContentsLink", this.getAttribute("data-destination"));
        }//end if
        //clicked the next button
        if (this.className === "nextButton") {

            methods.ascertainScope("nextButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a previous button
        if (this.className === "prevButton") {
            methods.ascertainScope("prevButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a nav element
        if (this.className === "navElement" || this.className === "activeNavElement" || this.className === "pastNavElement") {
            methods.ascertainScope("navElement", this.id);
        }//end if

        //clicked a header element
        if (this.className === "slideHeader clearfix" || this.className === "pastSlideHeader clearfix" || this.className === "futureSlideHeader clearfix") {
            methods.ascertainScope("slideHeader", this.parentNode.id);
        }//end if
        if (zz.keyCode === 78) {
            methods.ascertainScope("next", null);
        }//end if

        // Pressed the P key
        if (zz.keyCode === 80) {
            methods.ascertainScope("prev", null);
        }//end if

        // Pressed the UP arrow key
        if (zz.keyCode === 38) {
            //console.log("Top of the page",null);
        }//end if
        return null;
    },//end whichInput Method
    renderTheAudioButtons: function () {
        //this inserts the audio button onto the slides that have the data-hasAudioPlayer attribute set to Yes.
        var theHasAudioPlayerFlag, allTheSectionElements, theAudioInsertionTargetElement, theAudioInsertionParentElement, theAudioBoxElement, theAudioButtonElement, theAudioControlsElement, audioLandingPadElement, theSlideNumberNum, theSlideDOMElement;
        //craft the audioBox Element with all it's children.
        //Gather the section elements into one variable
        allTheSectionElements = document.getElementsByTagName("section");
        //use a loop to rip through each section element one by one.
        for (var m = 0; m < allTheSectionElements.length; m++) {
            //if this section is a slide or is the active slide
            if (allTheSectionElements[m].className === "slide" || allTheSectionElements[m].className === "activeSlide") {
                // READ the data attribute I am looking for.
                theHasAudioPlayerFlag = allTheSectionElements[m].getAttribute("data-hasAudioPlayer");
                //YES this slide is supposed to have audio.
                if (theHasAudioPlayerFlag === "yes") {
                    //now build this --> element parent.insertbefore(insertThisElement, insertItBeforeTHISElement)
                    //grab the slide
                    theSlideDOMElement = document.getElementById(allTheSectionElements[m].id);
                    //within the slide element identify the parent THEN target elements.
                    for (var nn = 0; nn < theSlideDOMElement.children.length; nn++) {
                        //insertion target is the slide header.
                        if (theSlideDOMElement.children[nn].className === "slideFooter" || theSlideDOMElement.children[nn].className === "activeSlideFooter") {

                            theAudioInsertionParentElement = theSlideDOMElement.children[nn];
                            if (theAudioInsertionParentElement.children[0].className === "nextPrevious") {
                                theAudioInsertionTargetElement = theAudioInsertionParentElement.children[0];
                            }//end if
                        }//end if
                        //change this to theSlideDOMElement

                    }//end for
                    //now create the element to insert and perform the insertion

                    theAudioBoxElement = document.createElement("section");
                    if (theAudioInsertionParentElement.id === "slide1") {
                        theAudioBoxElement.className = "activeAudioBox";
                    } else {
                        theAudioBoxElement.className = "audioBox";
                    }//end if

                    theAudioButtonElement = document.createElement("div");
                    theAudioButtonElement.className = "audioButton";
                    theAudioControlsElement = document.createElement("div");
                    theAudioControlsElement.className = "audioControls";
                    audioLandingPadElement = document.createElement("span");
                    theSlideNumberNum = theSlideDOMElement.id.substr(5);
                    audioLandingPadElement.id = "audioLandingPad" + theSlideNumberNum;
                    theAudioControlsElement.appendChild(audioLandingPadElement);
                    theAudioBoxElement.appendChild(theAudioButtonElement);
                    theAudioBoxElement.appendChild(theAudioControlsElement);
                    // This is where the audio player gets inserted into the audioControls element.
                    theAudioInsertionParentElement.insertBefore(theAudioBoxElement, theAudioInsertionTargetElement);


                }//end audioFlag if

            }//end sectionElements if
        }//end for
    },//end renderTheAudioButtons method
    main: function () {

        //this function is limited to mostly adding event listeners. The one exception, as it stands, is rendering the audio buttons on the page. This has extremely low overhead, and is the first of a two step process designed to make page loading more efficient.
        var slideHeaderElements, futureSlideHeaderElements, allTheAudioButtons, allThePreviousSLideButtons, allTheNextSLideButtons, allTheNavElements;


        //putting all the elements into the nav menu based on how many slide there are.
        methods.populateTheNavMenu();

        //====================== now add the listeners
        //All the slide headers.


        slideHeaderElements = document.getElementsByClassName("slideHeader clearfix");
        for (var a = 0; a < slideHeaderElements.length; a++) {
            slideHeaderElements[a].addEventListener("click", methods.whichInput, false);
        }//end for

        futureSlideHeaderElements = document.getElementsByClassName("futureSlideHeader clearfix");
        for (var o = 0; o < futureSlideHeaderElements.length; o++) {
            futureSlideHeaderElements[o].addEventListener("click", methods.whichInput, false);
        }//end for
        //All the nav elements

        allTheNavElements = document.getElementsByClassName("navElement");
        for (var d = 0; d < allTheNavElements.length; d++) {
            allTheNavElements[d].addEventListener("click", methods.whichInput, false);
        }//end for
        document.getElementsByClassName("activeNavElement")[0].addEventListener("click", methods.whichInput, false);


        //All the next buttons
        allTheNextSLideButtons = document.getElementsByClassName("nextButton");
        for (var f = 0; f < (allTheNextSLideButtons.length - 1); f++) {
            allTheNextSLideButtons[f].addEventListener("click", methods.whichInput, false);
        }//end for

        //All the previous buttons
        allThePreviousSLideButtons = document.getElementsByClassName("prevButton");
        for (var g = 0; g < allThePreviousSLideButtons.length; g++) {
            allThePreviousSLideButtons[g].addEventListener("click", methods.whichInput, false);
        }//end for

        allTheAudioButtons = document.getElementsByClassName("audioButton");


        //Handling Keyboard input

        document.addEventListener('keyup', methods.whichInput, false);

        //the help button
        document.getElementById("helpButton").addEventListener("click", methods.helpButtonHandler, false);

        //now render all the audio buttons on the slides that have the attribute data-hasAudioPlayer="yes"
        methods.renderTheAudioButtons();//first phase
        //and now that they exist in the DOM add the listeners.
        for (var l = 0; l < allTheAudioButtons.length; l++) {//second phase
            allTheAudioButtons[l].addEventListener("click", methods.audioButtonHandler, false);
        }//end for


        //this adds accessibility features to the rendered document.
        methods.givingAccess();
        //this reads each slide, grabs all the headers, then adds those headers to the Table of Contents.
        //essentially building the Table of Contents at the top of each slide.
        methods.tocHandler();

        //the TOC button
        document.getElementById("theTocTarget").addEventListener("click", methods.clickScopeTOC, false);
        //each TOC link
        var tocListItems = document.getElementsByClassName("TOClink");
        for (var ttt = 0; ttt < tocListItems.length; ttt++) {
            tocListItems[ttt].addEventListener("click", methods.whichInput, false);
        }//end for

        //this creates the nav menu elements.
       methods.navMenu();
       //call the figure build
       methods.figureButtonInsertion();
       methods.yellowFlash();




    }//end main method
};//end methods object.
window.onload = methods.main();





var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,i,m;if(n=Math.round(1e4*Math.random()),t.id=o+"-"+e+"-"+n,s=o.substr(5),i="nav"+o.substr(5),l="#"+o+"-"+e+"-"+n,m="<a class='TOClink' data-href='"+l+"'data-destination='"+o+"' data-destinationNavID='"+i+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=m,c===Number(s)){var r;document.getElementById("moduleTOC-default")&&(r=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(r=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),r.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,i,o,c=1;e(),l=methods.countTheSlides();for(var m=0;l>m;m++)s="slide"+(m+1),i=document.getElementById(s),o=i.id,methods.traverse(n,i);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,i,o,c,m,r,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var p=0;p<l.length;p++)l[p].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var y=0;y<s.length;y++)"mainNavList"!==s[y].id&&s[y].setAttribute("role","list");if(i=document.getElementsByTagName("li"))for(var B=0;B<i.length;B++)"navElement"!==i[B].className&&"activeNavElement"!==i[B].className&&i[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(o=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+o),c=e[E],m=c.parentNode,r=document.createElement("img"),r.id="link"+E,r.style.width="10px",r.style.height="10px",r.style.margin="0",r.style.padding="0 3px 6px 0",r.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&m.insertBefore(r,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,i,o,c,m,r;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(o=t.children[u]||null,c=o.children[0].id,d=document.getElementById(c),r=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+r,m=document.title,o.insertBefore(l,d),s=document.createElement("source"),i=document.createElement("source"),s.src="media/"+m+"-S"+r+".m4a",s.type="audio/mpeg",i.src="media/"+m+"-S"+r+".ogg",i.type="audio/ogg",l.appendChild(s),l.appendChild(i)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,i,o,c,m,r,u,h,g,v;if(r=e.substr(5),r>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var p=0;p<d.children.length;p++)o=d.children[p].className,("slideHeader clearfix"===o||"futureSlideHeader clearfix"===o)&&(c=d.children[p],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>r?"0"+r:r,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),m=document.getElementById(e),m.className="activeSlide";for(var y=0;y<m.children.length;y++)i=m.children[y].className,"futureSlideHeader clearfix"===i&&(m.children[y].className="slideHeader clearfix"),"slideContent"===i&&(m.children[y].className="activeSlideContent"),"slideFooter"===i&&(m.children[y].className="activeSlideFooter"),"audioBox"===i&&(m.children[y].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,i,o;switch(o=document.getElementsByClassName("activeSlide")[0].id,i=o.substr(5),s="nav"+i,e){case"next":d=Number(o.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,o));break;case"prev":d=Number(o.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,o));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,o);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,o);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,o);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,i,o,c;t=document.getElementsByTagName("section");for(var m=0;m<t.length;m++)if(("slide"===t[m].className||"activeSlide"===t[m].className)&&(e=t[m].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[m].id);for(var r=0;r<c.children.length;r++)("slideFooter"===c.children[r].className||"activeSlideFooter"===c.children[r].className)&&(a=c.children[r],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",i=document.createElement("span"),o=c.id.substr(5),i.id="audioLandingPad"+o,s.appendChild(i),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var i=0;i<t.length;i++)t[i].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var o=0;o<l.length;o++)l[o].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var m=0;m<a.length;m++)a[m].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var r=0;r<n.length;r++)n[r].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",
s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",
l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,
c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),
d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");
if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods = {
    yellowFlash:function(){
        var slidesLength = methods.countTheSlides();
        for (var i = 0; i < slidesLength; i++) {
            var theActiveSlideElement = document.getElementById("slide"+(i+1));
            var theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            if(theFirstParagraph.parentNode.className !=="figure"){
             theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            }else{
                theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[1];
            }//end if
            theFirstParagraph.className = "TheFirst";

        }
    },//end yellowFlashFunction
    figureModalHandler: function(){
        //add the class that makes it a modal box

        var theFigureBox = this.parentNode;
        var theFigureImage = theFigureBox.children[1];
        var theFigureCaption = theFigureBox.children[2];
        var figureEval = theFigureBox.getAttribute("data-state");


        if (figureEval === "closed") {
            //closed --> open
            theFigureBox.setAttribute("data-state","open");
            theFigureBox.className = "figure-open-state";
            this.src = "img/figureClose.svg";
            if(theFigureImage.tagName === "IMG"){
                    theFigureImage.style.overflow = "scroll";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "#FFF";
                }//endif
        }//endif
        if (figureEval === "open") {
            //open--->closed
            theFigureBox.setAttribute("data-state","closed");
            theFigureBox.className = "figure-closed-state";
            this.src = "img/figureOpen.svg";
            if(theFigureCaption.tagName === "IMG"){
                    theFigureCaption.style.overflow = "visible";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "transparent";
                }//endif
        }//end if
    },//end figureModalHandler
    figureButtonInsertion:function(){
        //create a button element that will be inserted into each figure element.

        //first: gather and loop through each figure element.
        var allTheFigureElements = document.getElementsByClassName("figure");
        //each element needs to have a button inserted, and then a listener added to the button.
            for (var i = 0; i < allTheFigureElements.length; i++) {
                //create the button element
                var newFigureButtonElement = document.createElement("img");
                newFigureButtonElement.src = "img/figureOpen.svg";
                newFigureButtonElement.alt = "";
                newFigureButtonElement.className = "fullScreenButton";
                var theCurrentFigureID = "figureButton"+(i+1);
                newFigureButtonElement.id = theCurrentFigureID;
                // insertTheButton image element.
                var theFigureParentNode = allTheFigureElements[i];
                theFigureParentNode.setAttribute("data-state","closed");
                // grab the img in the box, and set it up as the reference node.
                var theIMGsInFigure = allTheFigureElements[i].getElementsByTagName("img");
                var theFigureReferenceNode = theIMGsInFigure[0];
                //now insert the button
                theFigureParentNode.insertBefore(newFigureButtonElement,Â theFigureReferenceNode);


                document.getElementById(theCurrentFigureID).addEventListener("click",methods.figureModalHandler,false);
            }//end for


    },//end figureButtonInsertion
    populateTheNavMenu: function () {
        //this function is called from main, and adds list items to the nav menu.

        //how many slides do I have?
        var theInitialSlideCount = methods.countTheSlides();
        //the initial target for insertion is the single empty li child in the mainNavList element
        var theInitialTarget = document.getElementById("mainNavList").children[0];
        //give the blank Li an ID
        theInitialTarget.id = "nav"+theInitialSlideCount;
        //these three lines set the attributes of the target element.
        theInitialTarget.className = "navElement";
        theInitialTarget.innerHTML = theInitialSlideCount;

        //now that I have a target built I can send everything else it's way.
        //NOTE:this loop counts down from the total down to one.
        for(var i=(methods.countTheSlides()-1);i>0;i--){
            //create and build the LI to be inserted
            var insertThisListItemElement = document.createElement("li");
            insertThisListItemElement.id = "nav"+i;
            if(i===1){
                insertThisListItemElement.className = "activeNavElement";
            }else{
                insertThisListItemElement.className = "navElement";
            }//end if

            insertThisListItemElement.innerHTML = i;

            var navLiParentNode = document.getElementById("mainNavList");
            var insertLiBeforeThis = document.getElementById("nav"+(i+1));

            navLiParentNode.insertBefore(insertThisListItemElement,insertLiBeforeThis);



        }//end for

    },//end populateTheNavMenu
    clickScopeTOC: function () {
        var theIDtoSend, theTOCparentID;
        theTOCparentID = this.parentNode.id;
        //alert(theTOCparentID);
        if (theTOCparentID === "tocClosedState") {
            //This TOC is CLOSED and needs to be OPENED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.openTOC(theIDtoSend);
        }//end if
        if (theTOCparentID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.closeTOC(theIDtoSend);
        }//end if
    },//end scopeTOC function
    closeTOC: function (incomingSlideID) {

        var theTOCelement = document.getElementById(incomingSlideID).parentNode.id;//so theTocTarget's parentNode
        document.getElementById(theTOCelement).className = "TOCs";
        document.getElementById(theTOCelement).id = "tocClosedState";
    },//end justCloseTOC
    openTOC: function (theIDofWHatIClicked) {
        var theTOCelement = document.getElementById(theIDofWHatIClicked).parentNode;
        //add clearfix to the open menu so it shows everything inside.

        theTOCelement.className += " clearfix";
        theTOCelement.id = "tocOpenState";

    },//end function
    traverse: function (task, node) {
        var childNode;
        //the arriving "task" is what to you want to do with the "node"
        //"node" needs to be a slide. So RIP through all the slide's children
        for (var xxx = 0; xxx < node.childNodes.length; xxx++) {
            childNode = node.childNodes[xxx];//this one variable is easier to work with.
            task(childNode);//do task to childnode.
            //if this childNode has children then lets go again.
            if (childNode.childNodes.length > 0) {
                methods.traverse(task, childNode);
            }
        }//end for
    },//end function
    tocHandler: function () {
        //called from main...this function reads the headers and subheaders from each slide, and then builds the table of contents List Items based on that.
        //It runs once when the page loads.
        var theNewElement, insertNewBefore, theNumberOfSlides, currentSlideID, currentSlideElement, theCurrentSlide;
        var stopBit = 1;

        function addTheIDToTheTOCElement() {
            var grabMyChild;
            if (document.getElementById("tocClosedState")) {
                grabMyChild = document.getElementById("tocClosedState");
            }
            if (document.getElementById("tocOpenState")) {
                grabMyChild = document.getElementById("tocOpenState");
            }

            grabMyChild.children[0].id = "theTocTarget";//set the ID of the one and only li, to set it up as a landing target for other LIs
            grabMyChild.children[0].className = "TOCtargets";//apply the classname to the same li as above.
            grabMyChild.children[0].style.listStyleType = "none";
        }//end addTheIDToTheTOCElement function
        addTheIDToTheTOCElement();
        function processCapturedNode(type, node) {//process type of "H1" and the actual <h1> element dom object
            //generate a random # to use as a header ID, and to write as an HREF target.
            //this gives me a random, usually 4 digit, number to identify and connect each header/href pair.
            var randomNumforNodes, theHREFiNeed, slideBit, newVar, linkInnerHtml;
            randomNumforNodes = Math.round((Math.random() * 10000));
            //apply the random # to the ID of the header
            node.id = theCurrentSlide + "-" + type + "-" + randomNumforNodes;//apply the ID.
            //used to control the if statement (below) that creates new slide sub lists..
            slideBit = theCurrentSlide.substr(5);
            //this variable used to create the anchor element in the TOC.
            newVar = "nav" + theCurrentSlide.substr(5);
            // build the HREF that is inserted into list item.
            theHREFiNeed = "#" + theCurrentSlide + "-" + type + "-" + randomNumforNodes;
            //build the anchor that is inserted into the list item.
            //todo only pull the slide title out of node.innerHtml and write it to this
            //linkInnerHtml variable where node.innerHTML is written currently
            //so only grab the className of slideTitle as children of node.
            var insertThisTitle;
            if(node.children[0]){
                //grabbing the slide title from the slide header itself
                insertThisTitle = node.children[1].innerHTML;
            }else{
                //nope this is a normal header with no children.
                insertThisTitle = node.innerHTML;
            }
            linkInnerHtml = "<a class='TOClink' data-href='" + theHREFiNeed + "'" + "data-destination='" + theCurrentSlide + "' " + "data-destinationNavID='" + newVar + "'>" + insertThisTitle + "</a>";

            // create the new list item
            theNewElement = document.createElement(type);//ex.type=h2
            //todo this needs to happen the other way around. It needs to write an anchor(link) around an h2

            // craft the link as the innerHTML of the list item.
            theNewElement.innerHTML = linkInnerHtml;
            if (stopBit === Number(slideBit)) {
                //Grab the parent I want to insert the list into.
                var theTOCParentMainList;//<--this should remain the same because it is the starter list.

                if (document.getElementById("tocClosedState")) {
                    theTOCParentMainList = document.getElementById("tocClosedState");
                }
                if (document.getElementById("tocOpenState")) {
                    theTOCParentMainList = document.getElementById("tocOpenState");
                }
                // create the child list that will eventually hold actual list items.
                var theSlideTOCList = document.createElement("li");//<--Dont touch.This holds each slides info
                // give the new parent list an ID
                theSlideTOCList.id = "slide" + slideBit + "TOC";
                theSlideTOCList.className = "TOC";
                // adding one span to the new parent to act as a landing pad for others.
                theSlideTOCList.innerHTML = "<span id='slide" + slideBit + "TocTarget'" + " class='hidden'></span>";
                //grab the element that is the landing pad for the new parent list.
                insertNewBefore = document.getElementById("theTocTarget");
                // execute the insertion of the new parent. This acts as a target for the list insertion and changes each time the slide changes.
                // Parent should be main list, element should be created, and insertBefore should ALWAYS be the one IDed element inside the main TOC list.
                theTOCParentMainList.insertBefore(theSlideTOCList, insertNewBefore);
                stopBit++;
            }//end if
            //grab the element for the list within the list.
            var subTocParentELement = document.getElementById("slide" + slideBit + "TOC");
            // the insert before element.
            var TocSubListTarget = document.getElementById("slide" + slideBit + "TocTarget");
            //now that I have everything put it together.
            subTocParentELement.insertBefore(theNewElement, TocSubListTarget);
        }//end processCapturedNode function
        function captureNodes(node) {
            //if (node.nodeName === "H1") {
              //  processCapturedNode("H1", node);
            //}//end if
            if (node.nodeName === "H2") {
                processCapturedNode("H2", node);
            }//end if
            if (node.nodeName === "H3") {
                processCapturedNode("H3", node);
            }//end if
            if (node.nodeName === "H4") {
                processCapturedNode("H4", node);
            }//end if
            if (node.nodeName === "H5") {
                processCapturedNode("H5", node);
            }//end if
            if (node.nodeName === "H6") {
                processCapturedNode("H6", node);
            }//end if
        }//end captureNodes function


        //RIp through all the elements on each slide to populate all the menus.

        theNumberOfSlides = methods.countTheSlides();//the total amount of slides
        //this is the main loop.
        for (var bbb = 0; bbb < theNumberOfSlides; bbb++) {//for the length of all the slides.
            currentSlideID = "slide" + (bbb + 1);//build the slide ID
            currentSlideElement = document.getElementById(currentSlideID);//grab the slide element object to rip through.
            theCurrentSlide = currentSlideElement.id;//throw the ID of the element into a variable I can use.

            methods.traverse(captureNodes, currentSlideElement);
        }//end for loop
        document.getElementById("slide1TOC").style.marginTop = "45px";


    },//end tocHandler
    givingAccess: function () {
        /* Adding ARIA roles using JS...this is the preferred method as specified in the ARIA standard */
        var allTheLinks, theBodyTag, theForms, moduleHeaders, allTheImages, allTheOrderedLists, allTheUnorderedLists, allTheListItems, theTargetURL, theElementToInsertBefore, theElementsParent, theNewElement, targetBlank;

        //give the body the document role.
        theBodyTag = document.getElementsByTagName("body");
        if (theBodyTag) {
            for (var aa = 0; aa < theBodyTag.length; aa++) {
                theBodyTag[aa].setAttribute("role", "document");
            }//end body tag for loop
        }//end bodyTagIf
        //give all forms the forms role
        theForms = document.getElementsByTagName("form");
        if (theForms) {
            for (var bb = 0; bb < theForms.length; bb++) {
                theForms[bb].setAttribute("role", "form");
            }//end theForms for loop
        }//end theFormsIf
        //give the main nav plus it's items the navigation role.
        document.getElementById("mainNav").setAttribute("role", "navigation");
        document.getElementById("mainNavList").setAttribute("role", "navigation");

        //give the module header the banner role
        moduleHeaders = document.getElementsByTagName("moduleHeader");
        if (moduleHeaders) {
            for (var cc = 0; cc < moduleHeaders.length; cc++) {
                moduleHeaders[cc].setAttribute("role", "banner");
            }//end theForms for loop
        }//end theFormsIf
        //give all images the image role
        allTheImages = document.getElementsByTagName("img");
        if (allTheImages) {
            for (var dd = 0; dd < allTheImages.length; dd++) {
                allTheImages[dd].setAttribute("role", "image");
            }//end allTheImages for loop
        }//end allTheImagesIf
        //give all ordered lists the list role
        allTheOrderedLists = document.getElementsByTagName("ol");
        if (allTheOrderedLists) {
            for (var ee = 0; ee < allTheOrderedLists.length; ee++) {
                allTheOrderedLists[ee].setAttribute("role", "list");
            }//end allTheOrderedLists for loop
        }//end allTheOrderedListsIf
        //give all unordered lists the list role.
        allTheUnorderedLists = document.getElementsByTagName("ul");
        if (allTheOrderedLists) {
            for (var ff = 0; ff < allTheUnorderedLists.length; ff++) {
                if (allTheUnorderedLists[ff].id !== "mainNavList") {
                    allTheUnorderedLists[ff].setAttribute("role", "list");
                }//end if
            }//end allTheUnorderedLists for loop
        }//end allTheUnorderedLists If
        //give all list items the listItem role.
        allTheListItems = document.getElementsByTagName("li");
        if (allTheListItems) {
            for (var gg = 0; gg < allTheListItems.length; gg++) {
                if (allTheListItems[gg].className !== "navElement" && allTheListItems[gg].className !== "activeNavElement") {
                    allTheListItems[gg].setAttribute("role", "listitem");
                }//end if
            }//end allTheListItems for loop
        }//end allTheListItems If
        //add the title attribute to all anchors that open a new window, giving people a warning that it is happeneing.
        allTheLinks = document.getElementsByTagName("a");
        for (var s = 0; s < allTheLinks.length; s++) {
            targetBlank = allTheLinks[s].getAttribute("target");
            if (targetBlank === "_blank") {
                theTargetURL = allTheLinks[s].getAttribute("href");
                allTheLinks[s].setAttribute("title", "NOTE: This external link will bring you to the following URL:" + theTargetURL);
                //create an element, then insert it in before the anchor element.
                theElementToInsertBefore = allTheLinks[s];
                theElementsParent = theElementToInsertBefore.parentNode;
                theNewElement = document.createElement("img");
                //this inserts a little glyph before each link within the content that leads to an external page. All internal links do not get the glyph. .
                theNewElement.id = "link" + s;
                theNewElement.alt = "";
                theNewElement.style.width = "10px";
                theNewElement.style.height = "10px";
                theNewElement.style.margin = "0";
                theNewElement.style.padding = "0 3px 6px 0";
                theNewElement.src = "img/externalLinkIcon.png";
                if (allTheLinks[s].className !== "celLogoLink") {
                    theElementsParent.insertBefore(theNewElement, theElementToInsertBefore);
                }//end if
            }//end if
        }//end for
    },//end givingAccess function
    countTheSlides: function () {
        var theSlidesClassedActive, theSlidesClassedSlide;
        //gather all the slide elements, and all the activeSlideElements, and add them together give you a total slide count.
        theSlidesClassedSlide = document.getElementsByClassName("slide");
        theSlidesClassedActive = document.getElementsByClassName("activeSlide");
        return theSlidesClassedActive.length + theSlidesClassedSlide.length;
    },//end countTheSlides
    navMenu: function () {
        //this function makes sure the nav menu items line up proper.
        //get the amount of slides(that gives us how many nav items as well)
        var howmanySlides = methods.countTheSlides();
        //figure out how wide each should be as a percentage
        var theWidth = 100/howmanySlides;

        for(var x=0;x < howmanySlides;x++){
            //rip through all the nav elements and apply the width
            var theELementID = "nav"+(x+1);
            document.getElementById(theELementID).style.width = theWidth+"%";
        }//end for

    },//end navMenu function
    audioButtonHandler: function () {
        //This paints the audio player within the audio button.
        //It is only called when someone hits the audio button.
        var audioControlBox, theParentAudioBox, showAudioButton, audioCopy, audioLandingPad, theFreshAudioElement, sourceTag1, sourceTag2, insertAudioControlParent, audioLandingPadID, theDocTitle, theNumberToAppend;
        //establish a baseline parent element.
        theParentAudioBox = this.parentNode;//this is activeAudioBox
        //now loop through all the children and find the audioControls element so I can insert the player into it.
        for (var m = 0; m < theParentAudioBox.children.length; m++) {
            //found it.
            if (theParentAudioBox.children[m].className === "audioControls") {
                //so lets create the audio tag
                //I need a parent, and the element I want to insert it before.
                //here is the parent, how convenient.
                insertAudioControlParent = theParentAudioBox.children[m] || null;
                //where do I want to insert this element.
                audioLandingPadID = insertAudioControlParent.children[0].id;
                audioLandingPad = document.getElementById(audioLandingPadID);
                //easy way to grab the slide #to append to the ID of the audio element.
                theNumberToAppend = audioLandingPadID.substr(15);
                //create the element to insert
                theFreshAudioElement = document.createElement("audio");
                theFreshAudioElement.controls = "yes";//set the control bit
                theFreshAudioElement.id = "audioSlide" + theNumberToAppend;//give it an ID
                //insert a couple source elements into that new audio element.
                theDocTitle = document.title;//this should be set to course#-Module# BIO1000-M2
                //insert the audio element so I can insert sources inside of it.
                insertAudioControlParent.insertBefore(theFreshAudioElement, audioLandingPad);
                //create the source elements which point to the audio file.
                sourceTag1 = document.createElement("source");//for the m4a
                sourceTag2 = document.createElement("source");//for the ogg
                //build the file paths to the local audio files.
                sourceTag1.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".m4a";
                sourceTag1.type = "audio/mpeg";
                sourceTag2.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".ogg";
                sourceTag2.type = "audio/ogg";
                //now throw the source elements into the audio tag.
                theFreshAudioElement.appendChild(sourceTag1);
                theFreshAudioElement.appendChild(sourceTag2);
            }//endif
            //this reveals the audio player element, and hides the audio button element.
            if (theParentAudioBox.children[m].className === "audioButton") {
                showAudioButton = theParentAudioBox.children[m];//this is the audio button element.
                //open it.
                //showAudioButton.children[0].className = "openAudioButton";
                for (var o = 0; o < theParentAudioBox.children.length; o++) {
                    //opened
                    //this opens the box that contains the play pause buttons.
                    if (theParentAudioBox.children[o].className === "audioControls") {
                        audioControlBox = theParentAudioBox.children[o];
                        showAudioButton.style.height = "0px";
                        showAudioButton.style.width = "0px";
                    }//end if
                    if (theParentAudioBox.children[o].className === "audioButton") {
                        audioCopy = theParentAudioBox.children[o];
                    }//end if
                }//end for
            }//end if
        }//end for
    },//end audioButtonHandler method
    helpButtonHandler: function () {
        //opens and closed the help menu
        var theHelpBoxElement,theHelpButtonParent;

         theHelpButtonParent = document.getElementById("helpButton").parentNode;
        if (theHelpButtonParent.id === "helpboxOpenState") {
            //opened, and needs to be closed
            theHelpBoxElement = document.getElementById("helpboxOpenState");
            theHelpBoxElement.className = "helpBox";
            theHelpBoxElement.id = "helpboxClosedState";
        }else{
            //closed, and needs to be opened
            theHelpBoxElement = document.getElementById("helpboxClosedState");
            theHelpBoxElement.className += " clearfix";
            theHelpBoxElement.id = "helpboxOpenState";
        }//end if

    },//end helpButtonHandler method
    changeTheActualSlide: function (destination, destinationNAV, navID, slideID) {
        //change the active slide to pastSlide this needs to occur on the nav and header elements.
        //initialize
        var theActiveSlideElement, theSlideCompareElementID, theOneIAmWorkingON, destinationsChildClassname, theChildsClassname, theActiveSlideHeaderElement, theDestinationSlideElement, INeedTheSlideNumber, allTheAudioElements, theIDforTOC, theTOCParentalID, evaluateThisSlideClassname;


        //this is to hide the header info past slide one, but I need to retain the header size to make up for the buttons located within.
        INeedTheSlideNumber = destination.substr(5);
        if(INeedTheSlideNumber>1){
            //push these styles out to a CSS class.
            //slide 2 or above
            document.getElementById("theCourseIcon").style.height="0px";
            document.getElementById("theCourseIcon").style.width="0px";
            document.getElementById("courseNumber").style.overflow = "hidden";
            document.getElementById("courseNumber").style.opacity = "0";
            document.getElementById("courseNumber").style.width = "0px";
            document.getElementById("courseNumber").style.height = "0px";


            document.getElementById("moduleNumber").style.opacity="0";
            document.getElementById("moduleNumber").style.width="0px";
            document.getElementById("moduleNumber").style.height="0px";
            document.getElementById("moduleNumber").style.overflow="hidden";




            document.getElementById("theModuleHeader").style.height="3.25em";

        }else{
            //slide 1
            document.getElementById("theCourseIcon").style.height="100px";
            document.getElementById("theCourseIcon").style.width="100px";
            document.getElementById("courseNumber").style.opacity="1";
            document.getElementById("courseNumber").style.overflow="visible";
            document.getElementById("courseNumber").style.width="60vw";
            document.getElementById("courseNumber").style.height="auto";


            document.getElementById("moduleNumber").style.opacity="1";
            document.getElementById("moduleNumber").style.overflow="visible";
            document.getElementById("moduleNumber").style.width="70%";
            document.getElementById("moduleNumber").style.height="auto";


            document.getElementById("theModuleHeader").style.height="auto";
        }
        //end if
        //TOC should close
        theIDforTOC = "theTocTarget";
        theTOCParentalID = document.getElementById(theIDforTOC).parentNode.id;
        if (theTOCParentalID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.
            methods.closeTOC(theIDforTOC);
        }//end if
        //first pause any audio players that might have been started.
        allTheAudioElements = document.getElementsByTagName("audio");
        //making sure there are audio elements to pause
        if (allTheAudioElements.length > 0) {
            for (var p = 0; p < allTheAudioElements.length; p++) {
                allTheAudioElements[p].pause();
            }//end for
        }//end if
        //

        //This is the ID of the current active slide.
        theActiveSlideElement = document.getElementById(slideID);
        //i am changing slides, so I need to change the look of the active header to an pastSlideHeader
        for (var g = 0; g < theActiveSlideElement.children.length; g++) {
            theChildsClassname = theActiveSlideElement.children[g].className;
            if (theChildsClassname === "slideHeader clearfix" || theChildsClassname === "futureSlideHeader clearfix") {
                theActiveSlideHeaderElement = theActiveSlideElement.children[g];
                theActiveSlideHeaderElement.className = "pastSlideHeader clearfix";
            }//end if
        }//end for
        //the nav element to past style
        document.getElementById(navID).className = "pastNavElement";

        //apply the active styles to the destination slide, nav, and footer
        theDestinationSlideElement = document.getElementById(destination);
        //hit the slide
        theDestinationSlideElement.className = "activeSlide";
        //now the slidecontent and footer for the mobile view
        for (var h = 0; h < theDestinationSlideElement.children.length; h++) {
            destinationsChildClassname = theDestinationSlideElement.children[h].className;
            if (destinationsChildClassname === "futureSlideHeader clearfix") {
                theDestinationSlideElement.children[h].className = "slideHeader clearfix";
            }//end if
            if (destinationsChildClassname === "slideContent") {
                theDestinationSlideElement.children[h].className = "activeSlideContent";
            }//end if
            if (destinationsChildClassname === "slideFooter") {
                theDestinationSlideElement.children[h].className = "activeSlideFooter";
            }//end if
            if (destinationsChildClassname === "audioBox") {
                theDestinationSlideElement.children[h].className = "activeAudioBox";
            }//end if
        }//end for
        //now the nav element
        document.getElementById(destinationNAV).className = "activeNavElement";
        //rip through the slides changing the non-active slides to there default classes. (hiding them)
        for (var i = 0; i < methods.countTheSlides(); i++) {
            theSlideCompareElementID = document.getElementById("slide" + (i + 1)).id;
            //if this slide is NOT the one I JUST marked as "active"
            if (theSlideCompareElementID !== destination) {
                //grab the slide element
                theOneIAmWorkingON = document.getElementById(theSlideCompareElementID);
                //change the slide to a normal slide.
                theOneIAmWorkingON.className = "slide";
                for (var j = 0; j < theOneIAmWorkingON.children.length; j++) {
                    evaluateThisSlideClassname = theOneIAmWorkingON.children[j].className;

                    switch (evaluateThisSlideClassname) {
                        case "pastSlideHeader clearfix":
                            //These is here because I want to leave these alone. THey need to retain that class.
                            break;
                        case "futureSlideHeader clearfix":
                            break;
                        case "activeSlideContent":
                            theOneIAmWorkingON.children[j].className = "slideContent";
                            break;
                        case "activeSlideFooter":
                            theOneIAmWorkingON.children[j].className = "slideFooter";
                            break;
                        case "activeAudioBox":
                            theOneIAmWorkingON.children[j].className = "audioBox";
                            break;
                    }//end switch
                }//end for


            }//end if
        }//end for

    },//end changeTheActualSlide Method
    ascertainScope: function (type, theDestination) {
        //the purpose of this function is to send the proper 4 bits of info to the change the actual slide method.
        //maybe in the future combine this with whichInput Method.
        var destinationSlideIDNUM, destinationNavID, destinationNUM, destinationSlideID, theActiveNavID, theActiveNavNumber, theActiveSlideID;
        //the active slide
        theActiveSlideID = document.getElementsByClassName("activeSlide")[0].id;
        //build the corresponding Nav# by using the active slide number.
        theActiveNavNumber = theActiveSlideID.substr(5);
        //the active nav ID
        theActiveNavID = "nav" + theActiveNavNumber;
        //depending on which input passed build the info to send along to change the slide properly.
        switch (type) {
            case "next":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the last slide?
                if ((destinationNUM + 1) > methods.countTheSlides()) {
                    destinationSlideID = "slide1";//yes I am at the last slide, and will loop back to the beginning.
                    destinationNavID = "nav1";
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                } else {
                    destinationSlideID = "slide" + (destinationNUM + 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM + 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end  if
                break;
            case "prev":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the first slide?
                if ((destinationNUM - 1) === 0) {
                    destinationSlideID = "slide1";
                    destinationNavID = "nav1";
                    alert(" You must be mistaken...There is nothing previous to the first slide");//yes I am at the first slide, and
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);// will do nothing
                } else {
                    destinationSlideID = "slide" + (destinationNUM - 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM - 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end if
                break;
            case "nextButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));//pull off slide from slide# leaving just the number
                destinationSlideID = "slide" + (destinationSlideIDNUM + 1);
                destinationNavID = "nav" + (destinationSlideIDNUM + 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "prevButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + (destinationSlideIDNUM - 1);
                destinationNavID = "nav" + (destinationSlideIDNUM - 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "navElement":

                destinationSlideIDNUM = Number(theDestination.substr(3));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = theDestination;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "slideHeader":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "tableOfContentsLink":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                //this is here because of it's scope, and so it will jump to and open a slide.
                window.location = "#"+destinationSlideID;
                break;
        }//end switch
    },//end ascertainScope method
    whichInput: function (zz) {
        if (this.className === "TOClink") {

            methods.ascertainScope("tableOfContentsLink", this.getAttribute("data-destination"));
        }//end if
        //clicked the next button
        if (this.className === "nextButton") {

            methods.ascertainScope("nextButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a previous button
        if (this.className === "prevButton") {
            methods.ascertainScope("prevButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a nav element
        if (this.className === "navElement" || this.className === "activeNavElement" || this.className === "pastNavElement") {
            methods.ascertainScope("navElement", this.id);
        }//end if

        //clicked a header element
        if (this.className === "slideHeader clearfix" || this.className === "pastSlideHeader clearfix" || this.className === "futureSlideHeader clearfix") {
            methods.ascertainScope("slideHeader", this.parentNode.id);
        }//end if
        if (zz.keyCode === 78) {
            methods.ascertainScope("next", null);
        }//end if

        // Pressed the P key
        if (zz.keyCode === 80) {
            methods.ascertainScope("prev", null);
        }//end if

        // Pressed the UP arrow key
        if (zz.keyCode === 38) {
            //console.log("Top of the page",null);
        }//end if
        return null;
    },//end whichInput Method
    renderTheAudioButtons: function () {
        //this inserts the audio button onto the slides that have the data-hasAudioPlayer attribute set to Yes.
        var theHasAudioPlayerFlag, allTheSectionElements, theAudioInsertionTargetElement, theAudioInsertionParentElement, theAudioBoxElement, theAudioButtonElement, theAudioControlsElement, audioLandingPadElement, theSlideNumberNum, theSlideDOMElement;
        //craft the audioBox Element with all it's children.
        //Gather the section elements into one variable
        allTheSectionElements = document.getElementsByTagName("section");
        //use a loop to rip through each section element one by one.
        for (var m = 0; m < allTheSectionElements.length; m++) {
            //if this section is a slide or is the active slide
            if (allTheSectionElements[m].className === "slide" || allTheSectionElements[m].className === "activeSlide") {
                // READ the data attribute I am looking for.
                theHasAudioPlayerFlag = allTheSectionElements[m].getAttribute("data-hasAudioPlayer");
                //YES this slide is supposed to have audio.
                if (theHasAudioPlayerFlag === "yes") {
                    //now build this --> element parent.insertbefore(insertThisElement, insertItBeforeTHISElement)
                    //grab the slide
                    theSlideDOMElement = document.getElementById(allTheSectionElements[m].id);
                    //within the slide element identify the parent THEN target elements.
                    for (var nn = 0; nn < theSlideDOMElement.children.length; nn++) {
                        //insertion target is the slide header.
                        if (theSlideDOMElement.children[nn].className === "slideFooter" || theSlideDOMElement.children[nn].className === "activeSlideFooter") {

                            theAudioInsertionParentElement = theSlideDOMElement.children[nn];
                            if (theAudioInsertionParentElement.children[0].className === "nextPrevious") {
                                theAudioInsertionTargetElement = theAudioInsertionParentElement.children[0];
                            }//end if
                        }//end if
                        //change this to theSlideDOMElement

                    }//end for
                    //now create the element to insert and perform the insertion

                    theAudioBoxElement = document.createElement("section");
                    if (theAudioInsertionParentElement.id === "slide1") {
                        theAudioBoxElement.className = "activeAudioBox";
                    } else {
                        theAudioBoxElement.className = "audioBox";
                    }//end if

                    theAudioButtonElement = document.createElement("div");
                    theAudioButtonElement.className = "audioButton";
                    theAudioControlsElement = document.createElement("div");
                    theAudioControlsElement.className = "audioControls";
                    audioLandingPadElement = document.createElement("span");
                    theSlideNumberNum = theSlideDOMElement.id.substr(5);
                    audioLandingPadElement.id = "audioLandingPad" + theSlideNumberNum;
                    theAudioControlsElement.appendChild(audioLandingPadElement);
                    theAudioBoxElement.appendChild(theAudioButtonElement);
                    theAudioBoxElement.appendChild(theAudioControlsElement);
                    // This is where the audio player gets inserted into the audioControls element.
                    theAudioInsertionParentElement.insertBefore(theAudioBoxElement, theAudioInsertionTargetElement);


                }//end audioFlag if

            }//end sectionElements if
        }//end for
    },//end renderTheAudioButtons method
    main: function () {

        //this function is limited to mostly adding event listeners. The one exception, as it stands, is rendering the audio buttons on the page. This has extremely low overhead, and is the first of a two step process designed to make page loading more efficient.
        var slideHeaderElements, futureSlideHeaderElements, allTheAudioButtons, allThePreviousSLideButtons, allTheNextSLideButtons, allTheNavElements;


        //putting all the elements into the nav menu based on how many slide there are.
        methods.populateTheNavMenu();

        //====================== now add the listeners
        //All the slide headers.


        slideHeaderElements = document.getElementsByClassName("slideHeader clearfix");
        for (var a = 0; a < slideHeaderElements.length; a++) {
            slideHeaderElements[a].addEventListener("click", methods.whichInput, false);
        }//end for

        futureSlideHeaderElements = document.getElementsByClassName("futureSlideHeader clearfix");
        for (var o = 0; o < futureSlideHeaderElements.length; o++) {
            futureSlideHeaderElements[o].addEventListener("click", methods.whichInput, false);
        }//end for
        //All the nav elements

        allTheNavElements = document.getElementsByClassName("navElement");
        for (var d = 0; d < allTheNavElements.length; d++) {
            allTheNavElements[d].addEventListener("click", methods.whichInput, false);
        }//end for
        document.getElementsByClassName("activeNavElement")[0].addEventListener("click", methods.whichInput, false);


        //All the next buttons
        allTheNextSLideButtons = document.getElementsByClassName("nextButton");
        for (var f = 0; f < (allTheNextSLideButtons.length - 1); f++) {
            allTheNextSLideButtons[f].addEventListener("click", methods.whichInput, false);
        }//end for

        //All the previous buttons
        allThePreviousSLideButtons = document.getElementsByClassName("prevButton");
        for (var g = 0; g < allThePreviousSLideButtons.length; g++) {
            allThePreviousSLideButtons[g].addEventListener("click", methods.whichInput, false);
        }//end for

        allTheAudioButtons = document.getElementsByClassName("audioButton");


        //Handling Keyboard input

        document.addEventListener('keyup', methods.whichInput, false);

        //the help button
        document.getElementById("helpButton").addEventListener("click", methods.helpButtonHandler, false);

        //now render all the audio buttons on the slides that have the attribute data-hasAudioPlayer="yes"
        methods.renderTheAudioButtons();//first phase
        //and now that they exist in the DOM add the listeners.
        for (var l = 0; l < allTheAudioButtons.length; l++) {//second phase
            allTheAudioButtons[l].addEventListener("click", methods.audioButtonHandler, false);
        }//end for


        //this adds accessibility features to the rendered document.
        methods.givingAccess();
        //this reads each slide, grabs all the headers, then adds those headers to the Table of Contents.
        //essentially building the Table of Contents at the top of each slide.
        methods.tocHandler();

        //the TOC button
        document.getElementById("theTocTarget").addEventListener("click", methods.clickScopeTOC, false);
        //each TOC link
        var tocListItems = document.getElementsByClassName("TOClink");
        for (var ttt = 0; ttt < tocListItems.length; ttt++) {
            tocListItems[ttt].addEventListener("click", methods.whichInput, false);
        }//end for

        //this creates the nav menu elements.
       methods.navMenu();
       //call the figure build
       methods.figureButtonInsertion();
       methods.yellowFlash();




    }//end main method
};//end methods object.
window.onload = methods.main();





var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,i,m;if(n=Math.round(1e4*Math.random()),t.id=o+"-"+e+"-"+n,s=o.substr(5),i="nav"+o.substr(5),l="#"+o+"-"+e+"-"+n,m="<a class='TOClink' data-href='"+l+"'data-destination='"+o+"' data-destinationNavID='"+i+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=m,c===Number(s)){var r;document.getElementById("moduleTOC-default")&&(r=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(r=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),r.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,i,o,c=1;e(),l=methods.countTheSlides();for(var m=0;l>m;m++)s="slide"+(m+1),i=document.getElementById(s),o=i.id,methods.traverse(n,i);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,i,o,c,m,r,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var p=0;p<l.length;p++)l[p].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var y=0;y<s.length;y++)"mainNavList"!==s[y].id&&s[y].setAttribute("role","list");if(i=document.getElementsByTagName("li"))for(var B=0;B<i.length;B++)"navElement"!==i[B].className&&"activeNavElement"!==i[B].className&&i[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(o=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+o),c=e[E],m=c.parentNode,r=document.createElement("img"),r.id="link"+E,r.style.width="10px",r.style.height="10px",r.style.margin="0",r.style.padding="0 3px 6px 0",r.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&m.insertBefore(r,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,i,o,c,m,r;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(o=t.children[u]||null,c=o.children[0].id,d=document.getElementById(c),r=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+r,m=document.title,o.insertBefore(l,d),s=document.createElement("source"),i=document.createElement("source"),s.src="media/"+m+"-S"+r+".m4a",s.type="audio/mpeg",i.src="media/"+m+"-S"+r+".ogg",i.type="audio/ogg",l.appendChild(s),l.appendChild(i)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,i,o,c,m,r,u,h,g,v;if(r=e.substr(5),r>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var p=0;p<d.children.length;p++)o=d.children[p].className,("slideHeader clearfix"===o||"futureSlideHeader clearfix"===o)&&(c=d.children[p],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>r?"0"+r:r,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),m=document.getElementById(e),m.className="activeSlide";for(var y=0;y<m.children.length;y++)i=m.children[y].className,"futureSlideHeader clearfix"===i&&(m.children[y].className="slideHeader clearfix"),"slideContent"===i&&(m.children[y].className="activeSlideContent"),"slideFooter"===i&&(m.children[y].className="activeSlideFooter"),"audioBox"===i&&(m.children[y].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,i,o;switch(o=document.getElementsByClassName("activeSlide")[0].id,i=o.substr(5),s="nav"+i,e){case"next":d=Number(o.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,o));break;case"prev":d=Number(o.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,o));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,o);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,o);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,o);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,i,o,c;t=document.getElementsByTagName("section");for(var m=0;m<t.length;m++)if(("slide"===t[m].className||"activeSlide"===t[m].className)&&(e=t[m].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[m].id);for(var r=0;r<c.children.length;r++)("slideFooter"===c.children[r].className||"activeSlideFooter"===c.children[r].className)&&(a=c.children[r],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",i=document.createElement("span"),o=c.id.substr(5),i.id="audioLandingPad"+o,s.appendChild(i),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var i=0;i<t.length;i++)t[i].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var o=0;o<l.length;o++)l[o].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var m=0;m<a.length;m++)a[m].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var r=0;r<n.length;r++)n[r].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",
s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",
l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,
c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),
d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");
if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),
l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");
if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),
"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){
var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";
for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",
a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();var methods={yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;e>t;t++){var n=document.getElementById("slide"+(t+1)),a=n.getElementsByTagName("p")[0];a="figure"!==a.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1],a.className="TheFirst"}},figureModalHandler:function(){var e=this.parentNode,t=e.children[1],n=e.children[2],a=e.getAttribute("data-state");"closed"===a&&(e.setAttribute("data-state","open"),e.className="figure-open-state",this.src="img/figureClose.svg","IMG"===t.tagName&&(t.style.overflow="scroll"),"P"===n.tagName&&(n.style.backgroundColor="#FFF")),"open"===a&&(e.setAttribute("data-state","closed"),e.className="figure-closed-state",this.src="img/figureOpen.svg","IMG"===n.tagName&&(n.style.overflow="visible"),"P"===n.tagName&&(n.style.backgroundColor="transparent"))},figureButtonInsertion:function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var n=document.createElement("img");n.src="img/figureOpen.svg",n.alt="",n.className="fullScreenButton";var a="figureButton"+(t+1);n.id=a;var d=e[t];d.setAttribute("data-state","closed");var l=e[t].getElementsByTagName("img"),s=l[0];d.insertBefore(n,s),document.getElementById(a).addEventListener("click",methods.figureModalHandler,!1)}},populateTheNavMenu:function(){var e=methods.countTheSlides(),t=document.getElementById("mainNavList").children[0];t.id="nav"+e,t.className="navElement",t.innerHTML=e;for(var n=methods.countTheSlides()-1;n>0;n--){var a=document.createElement("li");a.id="nav"+n,1===n?a.className="activeNavElement":a.className="navElement",a.innerHTML=n;var d=document.getElementById("mainNavList"),l=document.getElementById("nav"+(n+1));d.insertBefore(a,l)}},clickScopeTOC:function(){var e,t;t=this.parentNode.id,"tocClosedState"===t&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.className+=" clearfix",t.id="tocOpenState"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("tocClosedState")&&(e=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(e=document.getElementById("tocOpenState")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n;var m;if(m=t.children[0]?t.children[1].innerHTML:t.innerHTML,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+m+"</a>",a=document.createElement(e),a.innerHTML=r,c===Number(s)){var u;document.getElementById("tocClosedState")&&(u=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(u=document.getElementById("tocOpenState"));var h=document.createElement("li");h.id="slide"+s+"TOC",h.className="TOC",h.innerHTML="<span id='slide"+s+"TocTarget' class='hidden'></span>",d=document.getElementById("theTocTarget"),u.insertBefore(h,d),c++}var g=document.getElementById("slide"+s+"TOC"),v=document.getElementById("slide"+s+"TocTarget");g.insertBefore(a,v)}function n(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.alt="",m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;e>n;n++){var a="nav"+(n+1);document.getElementById(a).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e,t;t=document.getElementById("helpButton").parentNode,"helpboxOpenState"===t.id?(e=document.getElementById("helpboxOpenState"),e.className="helpBox",e.id="helpboxClosedState"):(e=document.getElementById("helpboxClosedState"),e.className+=" clearfix",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),h="theTocTarget",g=document.getElementById(h).parentNode.id,"tocOpenState"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,"slideHeader clearfix"!==i&&"futureSlideHeader clearfix"!==i||(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i),window.location="#"+l}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader clearfix"!==this.className&&"pastSlideHeader clearfix"!==this.className&&"futureSlideHeader clearfix"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)"slideFooter"!==c.children[m].className&&"activeSlideFooter"!==c.children[m].className||(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),"slide1"===a.id?d.className="activeAudioBox":d.className="audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),methods.yellowFlash()}};window.onload=methods.main();var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,o,r;if(n=Math.round(1e4*Math.random()),t.id=i+"-"+e+"-"+n,s=i.substr(5),o="nav"+i.substr(5),l="#"+i+"-"+e+"-"+n,r="<a class='TOClink' data-href='"+l+"'data-destination='"+i+"' data-destinationNavID='"+o+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=r,c===Number(s)){var m;document.getElementById("moduleTOC-default")&&(m=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(m=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),m.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,o,i,c=1;e(),l=methods.countTheSlides();for(var r=0;l>r;r++)s="slide"+(r+1),o=document.getElementById(s),i=o.id,methods.traverse(n,o);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,o,i,c,r,m,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var y=0;y<l.length;y++)l[y].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var p=0;p<s.length;p++)"mainNavList"!==s[p].id&&s[p].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var B=0;B<o.length;B++)"navElement"!==o[B].className&&"activeNavElement"!==o[B].className&&o[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(i=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+i),c=e[E],r=c.parentNode,m=document.createElement("img"),m.id="link"+E,m.style.width="10px",m.style.height="10px",m.style.margin="0",m.style.padding="0 3px 6px 0",m.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&r.insertBefore(m,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,o,i,c,r,m;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(i=t.children[u]||null,c=i.children[0].id,d=document.getElementById(c),m=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+m,r=document.title,i.insertBefore(l,d),s=document.createElement("source"),o=document.createElement("source"),s.src="media/"+r+"-S"+m+".m4a",s.type="audio/mpeg",o.src="media/"+r+"-S"+m+".ogg",o.type="audio/ogg",l.appendChild(s),l.appendChild(o)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,o,i,c,r,m,u,h,g,v;if(m=e.substr(5),m>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var y=0;y<d.children.length;y++)i=d.children[y].className,("slideHeader clearfix"===i||"futureSlideHeader clearfix"===i)&&(c=d.children[y],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>m?"0"+m:m,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),r=document.getElementById(e),r.className="activeSlide";for(var p=0;p<r.children.length;p++)o=r.children[p].className,"futureSlideHeader clearfix"===o&&(r.children[p].className="slideHeader clearfix"),"slideContent"===o&&(r.children[p].className="activeSlideContent"),"slideFooter"===o&&(r.children[p].className="activeSlideFooter"),"audioBox"===o&&(r.children[p].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";
break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,o,i;switch(i=document.getElementsByClassName("activeSlide")[0].id,o=i.substr(5),s="nav"+o,e){case"next":d=Number(i.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,i));break;case"prev":d=Number(i.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,i)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,i));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,i);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,i);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,i);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,i)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,o,i,c;t=document.getElementsByTagName("section");for(var r=0;r<t.length;r++)if(("slide"===t[r].className||"activeSlide"===t[r].className)&&(e=t[r].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[r].id);for(var m=0;m<c.children.length;m++)("slideFooter"===c.children[m].className||"activeSlideFooter"===c.children[m].className)&&(a=c.children[m],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",o=document.createElement("span"),i=c.id.substr(5),o.id="audioLandingPad"+i,s.appendChild(o),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var o=0;o<t.length;o++)t[o].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var i=0;i<l.length;i++)l[i].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var r=0;r<a.length;r++)a[r].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var m=0;m<n.length;m++)n[m].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();
var methods = {
    yellowFlash:function(){
        var slidesLength = methods.countTheSlides();
        for (var i = 0; i < slidesLength; i++) {
            var theActiveSlideElement = document.getElementById("slide"+(i+1));
            var theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            if(theFirstParagraph.parentNode.className !=="figure"){
             theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[0];
            }else{
                theFirstParagraph = theActiveSlideElement.getElementsByTagName('p')[1];
            }//end if
            theFirstParagraph.className = "TheFirst";

        }
    },//end yellowFlashFunction
    figureModalHandler: function(){
        //add the class that makes it a modal box

        var theFigureBox = this.parentNode;
        var theFigureImage = theFigureBox.children[1];
        var theFigureCaption = theFigureBox.children[2];
        var figureEval = theFigureBox.getAttribute("data-state");


        if (figureEval === "closed") {
            //closed --> open
            theFigureBox.setAttribute("data-state","open");
            theFigureBox.className = "figure-open-state";
            this.src = "img/figureClose.svg";
            if(theFigureImage.tagName === "IMG"){
                    theFigureImage.style.overflow = "scroll";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "#FFF";
                }//endif
        }//endif
        if (figureEval === "open") {
            //open--->closed
            theFigureBox.setAttribute("data-state","closed");
            theFigureBox.className = "figure-closed-state";
            this.src = "img/figureOpen.svg";
            if(theFigureCaption.tagName === "IMG"){
                    theFigureCaption.style.overflow = "visible";
                }//endif
            if(theFigureCaption.tagName === "P"){
                    theFigureCaption.style.backgroundColor = "transparent";
                }//endif
        }//end if
    },//end figureModalHandler
    figureButtonInsertion:function(){
        //create a button element that will be inserted into each figure element.

        //first: gather and loop through each figure element.
        var allTheFigureElements = document.getElementsByClassName("figure");
        //each element needs to have a button inserted, and then a listener added to the button.
            for (var i = 0; i < allTheFigureElements.length; i++) {
                //create the button element
                var newFigureButtonElement = document.createElement("img");
                newFigureButtonElement.src = "img/figureOpen.svg";
                newFigureButtonElement.alt = "";
                newFigureButtonElement.className = "fullScreenButton";
                var theCurrentFigureID = "figureButton"+(i+1);
                newFigureButtonElement.id = theCurrentFigureID;
                // insertTheButton image element.
                var theFigureParentNode = allTheFigureElements[i];
                theFigureParentNode.setAttribute("data-state","closed");
                // grab the img in the box, and set it up as the reference node.
                var theIMGsInFigure = allTheFigureElements[i].getElementsByTagName("img");
                var theFigureReferenceNode = theIMGsInFigure[0];
                //now insert the button
                theFigureParentNode.insertBefore(newFigureButtonElement,Â theFigureReferenceNode);


                document.getElementById(theCurrentFigureID).addEventListener("click",methods.figureModalHandler,false);
            }//end for


    },//end figureButtonInsertion
    populateTheNavMenu: function () {
        //this function is called from main, and adds list items to the nav menu.

        //how many slides do I have?
        var theInitialSlideCount = methods.countTheSlides();
        //the initial target for insertion is the single empty li child in the mainNavList element
        var theInitialTarget = document.getElementById("mainNavList").children[0];
        //give the blank Li an ID
        theInitialTarget.id = "nav"+theInitialSlideCount;
        //these three lines set the attributes of the target element.
        theInitialTarget.className = "navElement";
        theInitialTarget.innerHTML = theInitialSlideCount;

        //now that I have a target built I can send everything else it's way.
        //NOTE:this loop counts down from the total down to one.
        for(var i=(methods.countTheSlides()-1);i>0;i--){
            //create and build the LI to be inserted
            var insertThisListItemElement = document.createElement("li");
            insertThisListItemElement.id = "nav"+i;
            if(i===1){
                insertThisListItemElement.className = "activeNavElement";
            }else{
                insertThisListItemElement.className = "navElement";
            }//end if

            insertThisListItemElement.innerHTML = i;

            var navLiParentNode = document.getElementById("mainNavList");
            var insertLiBeforeThis = document.getElementById("nav"+(i+1));

            navLiParentNode.insertBefore(insertThisListItemElement,insertLiBeforeThis);



        }//end for

    },//end populateTheNavMenu
    clickScopeTOC: function () {
        var theIDtoSend, theTOCparentID;
        theTOCparentID = this.parentNode.id;
        //alert(theTOCparentID);
        if (theTOCparentID === "tocClosedState") {
            //This TOC is CLOSED and needs to be OPENED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.openTOC(theIDtoSend);
        }//end if
        if (theTOCparentID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.

            theIDtoSend = this.id;//(theTocTarget)

            methods.closeTOC(theIDtoSend);
        }//end if
    },//end scopeTOC function
    closeTOC: function (incomingSlideID) {

        var theTOCelement = document.getElementById(incomingSlideID).parentNode.id;//so theTocTarget's parentNode
        document.getElementById(theTOCelement).className = "TOCs";
        document.getElementById(theTOCelement).id = "tocClosedState";
    },//end justCloseTOC
    openTOC: function (theIDofWHatIClicked) {
        var theTOCelement = document.getElementById(theIDofWHatIClicked).parentNode;
        //add clearfix to the open menu so it shows everything inside.

        theTOCelement.className += " clearfix";
        theTOCelement.id = "tocOpenState";

    },//end function
    traverse: function (task, node) {
        var childNode;
        //the arriving "task" is what to you want to do with the "node"
        //"node" needs to be a slide. So RIP through all the slide's children
        for (var xxx = 0; xxx < node.childNodes.length; xxx++) {
            childNode = node.childNodes[xxx];//this one variable is easier to work with.
            task(childNode);//do task to childnode.
            //if this childNode has children then lets go again.
            if (childNode.childNodes.length > 0) {
                methods.traverse(task, childNode);
            }
        }//end for
    },//end function
    tocHandler: function () {
        //called from main...this function reads the headers and subheaders from each slide, and then builds the table of contents List Items based on that.
        //It runs once when the page loads.
        var theNewElement, insertNewBefore, theNumberOfSlides, currentSlideID, currentSlideElement, theCurrentSlide;
        var stopBit = 1;

        function addTheIDToTheTOCElement() {
            var grabMyChild;
            if (document.getElementById("tocClosedState")) {
                grabMyChild = document.getElementById("tocClosedState");
            }
            if (document.getElementById("tocOpenState")) {
                grabMyChild = document.getElementById("tocOpenState");
            }

            grabMyChild.children[0].id = "theTocTarget";//set the ID of the one and only li, to set it up as a landing target for other LIs
            grabMyChild.children[0].className = "TOCtargets";//apply the classname to the same li as above.
            grabMyChild.children[0].style.listStyleType = "none";
        }//end addTheIDToTheTOCElement function
        addTheIDToTheTOCElement();
        function processCapturedNode(type, node) {//process type of "H1" and the actual <h1> element dom object
            //generate a random # to use as a header ID, and to write as an HREF target.
            //this gives me a random, usually 4 digit, number to identify and connect each header/href pair.
            var randomNumforNodes, theHREFiNeed, slideBit, newVar, linkInnerHtml;
            randomNumforNodes = Math.round((Math.random() * 10000));
            //apply the random # to the ID of the header
            node.id = theCurrentSlide + "-" + type + "-" + randomNumforNodes;//apply the ID.
            //used to control the if statement (below) that creates new slide sub lists..
            slideBit = theCurrentSlide.substr(5);
            //this variable used to create the anchor element in the TOC.
            newVar = "nav" + theCurrentSlide.substr(5);
            // build the HREF that is inserted into list item.
            theHREFiNeed = "#" + theCurrentSlide + "-" + type + "-" + randomNumforNodes;
            //build the anchor that is inserted into the list item.
            //todo only pull the slide title out of node.innerHtml and write it to this
            //linkInnerHtml variable where node.innerHTML is written currently
            //so only grab the className of slideTitle as children of node.
            var insertThisTitle;
            if(node.children[0]){
                //grabbing the slide title from the slide header itself
                insertThisTitle = node.children[1].innerHTML;
            }else{
                //nope this is a normal header with no children.
                insertThisTitle = node.innerHTML;
            }
            linkInnerHtml = "<a class='TOClink' data-href='" + theHREFiNeed + "'" + "data-destination='" + theCurrentSlide + "' " + "data-destinationNavID='" + newVar + "'>" + insertThisTitle + "</a>";

            // create the new list item
            theNewElement = document.createElement(type);//ex.type=h2
            //todo this needs to happen the other way around. It needs to write an anchor(link) around an h2

            // craft the link as the innerHTML of the list item.
            theNewElement.innerHTML = linkInnerHtml;
            if (stopBit === Number(slideBit)) {
                //Grab the parent I want to insert the list into.
                var theTOCParentMainList;//<--this should remain the same because it is the starter list.

                if (document.getElementById("tocClosedState")) {
                    theTOCParentMainList = document.getElementById("tocClosedState");
                }
                if (document.getElementById("tocOpenState")) {
                    theTOCParentMainList = document.getElementById("tocOpenState");
                }
                // create the child list that will eventually hold actual list items.
                var theSlideTOCList = document.createElement("li");//<--Dont touch.This holds each slides info
                // give the new parent list an ID
                theSlideTOCList.id = "slide" + slideBit + "TOC";
                theSlideTOCList.className = "TOC";
                // adding one span to the new parent to act as a landing pad for others.
                theSlideTOCList.innerHTML = "<span id='slide" + slideBit + "TocTarget'" + " class='hidden'></span>";
                //grab the element that is the landing pad for the new parent list.
                insertNewBefore = document.getElementById("theTocTarget");
                // execute the insertion of the new parent. This acts as a target for the list insertion and changes each time the slide changes.
                // Parent should be main list, element should be created, and insertBefore should ALWAYS be the one IDed element inside the main TOC list.
                theTOCParentMainList.insertBefore(theSlideTOCList, insertNewBefore);
                stopBit++;
            }//end if
            //grab the element for the list within the list.
            var subTocParentELement = document.getElementById("slide" + slideBit + "TOC");
            // the insert before element.
            var TocSubListTarget = document.getElementById("slide" + slideBit + "TocTarget");
            //now that I have everything put it together.
            subTocParentELement.insertBefore(theNewElement, TocSubListTarget);
        }//end processCapturedNode function
        function captureNodes(node) {
            //if (node.nodeName === "H1") {
              //  processCapturedNode("H1", node);
            //}//end if
            if (node.nodeName === "H2") {
                processCapturedNode("H2", node);
            }//end if
            if (node.nodeName === "H3") {
                processCapturedNode("H3", node);
            }//end if
            if (node.nodeName === "H4") {
                processCapturedNode("H4", node);
            }//end if
            if (node.nodeName === "H5") {
                processCapturedNode("H5", node);
            }//end if
            if (node.nodeName === "H6") {
                processCapturedNode("H6", node);
            }//end if
        }//end captureNodes function


        //RIp through all the elements on each slide to populate all the menus.

        theNumberOfSlides = methods.countTheSlides();//the total amount of slides
        //this is the main loop.
        for (var bbb = 0; bbb < theNumberOfSlides; bbb++) {//for the length of all the slides.
            currentSlideID = "slide" + (bbb + 1);//build the slide ID
            currentSlideElement = document.getElementById(currentSlideID);//grab the slide element object to rip through.
            theCurrentSlide = currentSlideElement.id;//throw the ID of the element into a variable I can use.

            methods.traverse(captureNodes, currentSlideElement);
        }//end for loop
        document.getElementById("slide1TOC").style.marginTop = "45px";


    },//end tocHandler
    givingAccess: function () {
        /* Adding ARIA roles using JS...this is the preferred method as specified in the ARIA standard */
        var allTheLinks, theBodyTag, theForms, moduleHeaders, allTheImages, allTheOrderedLists, allTheUnorderedLists, allTheListItems, theTargetURL, theElementToInsertBefore, theElementsParent, theNewElement, targetBlank;

        //give the body the document role.
        theBodyTag = document.getElementsByTagName("body");
        if (theBodyTag) {
            for (var aa = 0; aa < theBodyTag.length; aa++) {
                theBodyTag[aa].setAttribute("role", "document");
            }//end body tag for loop
        }//end bodyTagIf
        //give all forms the forms role
        theForms = document.getElementsByTagName("form");
        if (theForms) {
            for (var bb = 0; bb < theForms.length; bb++) {
                theForms[bb].setAttribute("role", "form");
            }//end theForms for loop
        }//end theFormsIf
        //give the main nav plus it's items the navigation role.
        document.getElementById("mainNav").setAttribute("role", "navigation");
        document.getElementById("mainNavList").setAttribute("role", "navigation");

        //give the module header the banner role
        moduleHeaders = document.getElementsByTagName("moduleHeader");
        if (moduleHeaders) {
            for (var cc = 0; cc < moduleHeaders.length; cc++) {
                moduleHeaders[cc].setAttribute("role", "banner");
            }//end theForms for loop
        }//end theFormsIf
        //give all images the image role
        allTheImages = document.getElementsByTagName("img");
        if (allTheImages) {
            for (var dd = 0; dd < allTheImages.length; dd++) {
                allTheImages[dd].setAttribute("role", "image");
            }//end allTheImages for loop
        }//end allTheImagesIf
        //give all ordered lists the list role
        allTheOrderedLists = document.getElementsByTagName("ol");
        if (allTheOrderedLists) {
            for (var ee = 0; ee < allTheOrderedLists.length; ee++) {
                allTheOrderedLists[ee].setAttribute("role", "list");
            }//end allTheOrderedLists for loop
        }//end allTheOrderedListsIf
        //give all unordered lists the list role.
        allTheUnorderedLists = document.getElementsByTagName("ul");
        if (allTheOrderedLists) {
            for (var ff = 0; ff < allTheUnorderedLists.length; ff++) {
                if (allTheUnorderedLists[ff].id !== "mainNavList") {
                    allTheUnorderedLists[ff].setAttribute("role", "list");
                }//end if
            }//end allTheUnorderedLists for loop
        }//end allTheUnorderedLists If
        //give all list items the listItem role.
        allTheListItems = document.getElementsByTagName("li");
        if (allTheListItems) {
            for (var gg = 0; gg < allTheListItems.length; gg++) {
                if (allTheListItems[gg].className !== "navElement" && allTheListItems[gg].className !== "activeNavElement") {
                    allTheListItems[gg].setAttribute("role", "listitem");
                }//end if
            }//end allTheListItems for loop
        }//end allTheListItems If
        //add the title attribute to all anchors that open a new window, giving people a warning that it is happeneing.
        allTheLinks = document.getElementsByTagName("a");
        for (var s = 0; s < allTheLinks.length; s++) {
            targetBlank = allTheLinks[s].getAttribute("target");
            if (targetBlank === "_blank") {
                theTargetURL = allTheLinks[s].getAttribute("href");
                allTheLinks[s].setAttribute("title", "NOTE: This external link will bring you to the following URL:" + theTargetURL);
                //create an element, then insert it in before the anchor element.
                theElementToInsertBefore = allTheLinks[s];
                theElementsParent = theElementToInsertBefore.parentNode;
                theNewElement = document.createElement("img");
                //this inserts a little glyph before each link within the content that leads to an external page. All internal links do not get the glyph. .
                theNewElement.id = "link" + s;
                theNewElement.alt = "";
                theNewElement.style.width = "10px";
                theNewElement.style.height = "10px";
                theNewElement.style.margin = "0";
                theNewElement.style.padding = "0 3px 6px 0";
                theNewElement.src = "img/externalLinkIcon.png";
                if (allTheLinks[s].className !== "celLogoLink") {
                    theElementsParent.insertBefore(theNewElement, theElementToInsertBefore);
                }//end if
            }//end if
        }//end for
    },//end givingAccess function
    countTheSlides: function () {
        var theSlidesClassedActive, theSlidesClassedSlide;
        //gather all the slide elements, and all the activeSlideElements, and add them together give you a total slide count.
        theSlidesClassedSlide = document.getElementsByClassName("slide");
        theSlidesClassedActive = document.getElementsByClassName("activeSlide");
        return theSlidesClassedActive.length + theSlidesClassedSlide.length;
    },//end countTheSlides
    navMenu: function () {
        //this function makes sure the nav menu items line up proper.
        //get the amount of slides(that gives us how many nav items as well)
        var howmanySlides = methods.countTheSlides();
        //figure out how wide each should be as a percentage
        var theWidth = 100/howmanySlides;

        for(var x=0;x < howmanySlides;x++){
            //rip through all the nav elements and apply the width
            var theELementID = "nav"+(x+1);
            document.getElementById(theELementID).style.width = theWidth+"%";
        }//end for

    },//end navMenu function
    audioButtonHandler: function () {
        //This paints the audio player within the audio button.
        //It is only called when someone hits the audio button.
        var audioControlBox, theParentAudioBox, showAudioButton, audioCopy, audioLandingPad, theFreshAudioElement, sourceTag1, sourceTag2, insertAudioControlParent, audioLandingPadID, theDocTitle, theNumberToAppend;
        //establish a baseline parent element.
        theParentAudioBox = this.parentNode;//this is activeAudioBox
        //now loop through all the children and find the audioControls element so I can insert the player into it.
        for (var m = 0; m < theParentAudioBox.children.length; m++) {
            //found it.
            if (theParentAudioBox.children[m].className === "audioControls") {
                //so lets create the audio tag
                //I need a parent, and the element I want to insert it before.
                //here is the parent, how convenient.
                insertAudioControlParent = theParentAudioBox.children[m] || null;
                //where do I want to insert this element.
                audioLandingPadID = insertAudioControlParent.children[0].id;
                audioLandingPad = document.getElementById(audioLandingPadID);
                //easy way to grab the slide #to append to the ID of the audio element.
                theNumberToAppend = audioLandingPadID.substr(15);
                //create the element to insert
                theFreshAudioElement = document.createElement("audio");
                theFreshAudioElement.controls = "yes";//set the control bit
                theFreshAudioElement.id = "audioSlide" + theNumberToAppend;//give it an ID
                //insert a couple source elements into that new audio element.
                theDocTitle = document.title;//this should be set to course#-Module# BIO1000-M2
                //insert the audio element so I can insert sources inside of it.
                insertAudioControlParent.insertBefore(theFreshAudioElement, audioLandingPad);
                //create the source elements which point to the audio file.
                sourceTag1 = document.createElement("source");//for the m4a
                sourceTag2 = document.createElement("source");//for the ogg
                //build the file paths to the local audio files.
                sourceTag1.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".m4a";
                sourceTag1.type = "audio/mpeg";
                sourceTag2.src = "media/" + theDocTitle + "-S" + theNumberToAppend + ".ogg";
                sourceTag2.type = "audio/ogg";
                //now throw the source elements into the audio tag.
                theFreshAudioElement.appendChild(sourceTag1);
                theFreshAudioElement.appendChild(sourceTag2);
            }//endif
            //this reveals the audio player element, and hides the audio button element.
            if (theParentAudioBox.children[m].className === "audioButton") {
                showAudioButton = theParentAudioBox.children[m];//this is the audio button element.
                //open it.
                //showAudioButton.children[0].className = "openAudioButton";
                for (var o = 0; o < theParentAudioBox.children.length; o++) {
                    //opened
                    //this opens the box that contains the play pause buttons.
                    if (theParentAudioBox.children[o].className === "audioControls") {
                        audioControlBox = theParentAudioBox.children[o];
                        showAudioButton.style.height = "0px";
                        showAudioButton.style.width = "0px";
                    }//end if
                    if (theParentAudioBox.children[o].className === "audioButton") {
                        audioCopy = theParentAudioBox.children[o];
                    }//end if
                }//end for
            }//end if
        }//end for
    },//end audioButtonHandler method
    helpButtonHandler: function () {
        //opens and closed the help menu
        var theHelpBoxElement,theHelpButtonParent;

         theHelpButtonParent = document.getElementById("helpButton").parentNode;
        if (theHelpButtonParent.id === "helpboxOpenState") {
            //opened, and needs to be closed
            theHelpBoxElement = document.getElementById("helpboxOpenState");
            theHelpBoxElement.className = "helpBox";
            theHelpBoxElement.id = "helpboxClosedState";
        }else{
            //closed, and needs to be opened
            theHelpBoxElement = document.getElementById("helpboxClosedState");
            theHelpBoxElement.className += " clearfix";
            theHelpBoxElement.id = "helpboxOpenState";
        }//end if

    },//end helpButtonHandler method
    changeTheActualSlide: function (destination, destinationNAV, navID, slideID) {
        //change the active slide to pastSlide this needs to occur on the nav and header elements.
        //initialize
        var theActiveSlideElement, theSlideCompareElementID, theOneIAmWorkingON, destinationsChildClassname, theChildsClassname, theActiveSlideHeaderElement, theDestinationSlideElement, INeedTheSlideNumber, allTheAudioElements, theIDforTOC, theTOCParentalID, evaluateThisSlideClassname;


        //this is to hide the header info past slide one, but I need to retain the header size to make up for the buttons located within.
        INeedTheSlideNumber = destination.substr(5);
        if(INeedTheSlideNumber>1){
            //push these styles out to a CSS class.
            //slide 2 or above
            document.getElementById("theCourseIcon").style.height="0px";
            document.getElementById("theCourseIcon").style.width="0px";
            document.getElementById("courseNumber").style.overflow = "hidden";
            document.getElementById("courseNumber").style.opacity = "0";
            document.getElementById("courseNumber").style.width = "0px";
            document.getElementById("courseNumber").style.height = "0px";


            document.getElementById("moduleNumber").style.opacity="0";
            document.getElementById("moduleNumber").style.width="0px";
            document.getElementById("moduleNumber").style.height="0px";
            document.getElementById("moduleNumber").style.overflow="hidden";




            document.getElementById("theModuleHeader").style.height="3.25em";

        }else{
            //slide 1
            document.getElementById("theCourseIcon").style.height="100px";
            document.getElementById("theCourseIcon").style.width="100px";
            document.getElementById("courseNumber").style.opacity="1";
            document.getElementById("courseNumber").style.overflow="visible";
            document.getElementById("courseNumber").style.width="60vw";
            document.getElementById("courseNumber").style.height="auto";


            document.getElementById("moduleNumber").style.opacity="1";
            document.getElementById("moduleNumber").style.overflow="visible";
            document.getElementById("moduleNumber").style.width="70%";
            document.getElementById("moduleNumber").style.height="auto";


            document.getElementById("theModuleHeader").style.height="auto";
        }
        //end if
        //TOC should close
        theIDforTOC = "theTocTarget";
        theTOCParentalID = document.getElementById(theIDforTOC).parentNode.id;
        if (theTOCParentalID === "tocOpenState") {
            //This TOC is OPEN and needs to be CLOSED.
            methods.closeTOC(theIDforTOC);
        }//end if
        //first pause any audio players that might have been started.
        allTheAudioElements = document.getElementsByTagName("audio");
        //making sure there are audio elements to pause
        if (allTheAudioElements.length > 0) {
            for (var p = 0; p < allTheAudioElements.length; p++) {
                allTheAudioElements[p].pause();
            }//end for
        }//end if
        //

        //This is the ID of the current active slide.
        theActiveSlideElement = document.getElementById(slideID);
        //i am changing slides, so I need to change the look of the active header to an pastSlideHeader
        for (var g = 0; g < theActiveSlideElement.children.length; g++) {
            theChildsClassname = theActiveSlideElement.children[g].className;
            if (theChildsClassname === "slideHeader clearfix" || theChildsClassname === "futureSlideHeader clearfix") {
                theActiveSlideHeaderElement = theActiveSlideElement.children[g];
                theActiveSlideHeaderElement.className = "pastSlideHeader clearfix";
            }//end if
        }//end for
        //the nav element to past style
        document.getElementById(navID).className = "pastNavElement";

        //apply the active styles to the destination slide, nav, and footer
        theDestinationSlideElement = document.getElementById(destination);
        //hit the slide
        theDestinationSlideElement.className = "activeSlide";
        //now the slidecontent and footer for the mobile view
        for (var h = 0; h < theDestinationSlideElement.children.length; h++) {
            destinationsChildClassname = theDestinationSlideElement.children[h].className;
            if (destinationsChildClassname === "futureSlideHeader clearfix") {
                theDestinationSlideElement.children[h].className = "slideHeader clearfix";
            }//end if
            if (destinationsChildClassname === "slideContent") {
                theDestinationSlideElement.children[h].className = "activeSlideContent";
            }//end if
            if (destinationsChildClassname === "slideFooter") {
                theDestinationSlideElement.children[h].className = "activeSlideFooter";
            }//end if
            if (destinationsChildClassname === "audioBox") {
                theDestinationSlideElement.children[h].className = "activeAudioBox";
            }//end if
        }//end for
        //now the nav element
        document.getElementById(destinationNAV).className = "activeNavElement";
        //rip through the slides changing the non-active slides to there default classes. (hiding them)
        for (var i = 0; i < methods.countTheSlides(); i++) {
            theSlideCompareElementID = document.getElementById("slide" + (i + 1)).id;
            //if this slide is NOT the one I JUST marked as "active"
            if (theSlideCompareElementID !== destination) {
                //grab the slide element
                theOneIAmWorkingON = document.getElementById(theSlideCompareElementID);
                //change the slide to a normal slide.
                theOneIAmWorkingON.className = "slide";
                for (var j = 0; j < theOneIAmWorkingON.children.length; j++) {
                    evaluateThisSlideClassname = theOneIAmWorkingON.children[j].className;

                    switch (evaluateThisSlideClassname) {
                        case "pastSlideHeader clearfix":
                            //These is here because I want to leave these alone. THey need to retain that class.
                            break;
                        case "futureSlideHeader clearfix":
                            break;
                        case "activeSlideContent":
                            theOneIAmWorkingON.children[j].className = "slideContent";
                            break;
                        case "activeSlideFooter":
                            theOneIAmWorkingON.children[j].className = "slideFooter";
                            break;
                        case "activeAudioBox":
                            theOneIAmWorkingON.children[j].className = "audioBox";
                            break;
                    }//end switch
                }//end for


            }//end if
        }//end for

    },//end changeTheActualSlide Method
    ascertainScope: function (type, theDestination) {
        //the purpose of this function is to send the proper 4 bits of info to the change the actual slide method.
        //maybe in the future combine this with whichInput Method.
        var destinationSlideIDNUM, destinationNavID, destinationNUM, destinationSlideID, theActiveNavID, theActiveNavNumber, theActiveSlideID;
        //the active slide
        theActiveSlideID = document.getElementsByClassName("activeSlide")[0].id;
        //build the corresponding Nav# by using the active slide number.
        theActiveNavNumber = theActiveSlideID.substr(5);
        //the active nav ID
        theActiveNavID = "nav" + theActiveNavNumber;
        //depending on which input passed build the info to send along to change the slide properly.
        switch (type) {
            case "next":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the last slide?
                if ((destinationNUM + 1) > methods.countTheSlides()) {
                    destinationSlideID = "slide1";//yes I am at the last slide, and will loop back to the beginning.
                    destinationNavID = "nav1";
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                } else {
                    destinationSlideID = "slide" + (destinationNUM + 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM + 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end  if
                break;
            case "prev":
                destinationNUM = Number(theActiveSlideID.substr(5));
                //am I at the first slide?
                if ((destinationNUM - 1) === 0) {
                    destinationSlideID = "slide1";
                    destinationNavID = "nav1";
                    alert(" You must be mistaken...There is nothing previous to the first slide");//yes I am at the first slide, and
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);// will do nothing
                } else {
                    destinationSlideID = "slide" + (destinationNUM - 1);//nope...business as usual.
                    destinationNavID = "nav" + (destinationNUM - 1);
                    methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                }//end if
                break;
            case "nextButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));//pull off slide from slide# leaving just the number
                destinationSlideID = "slide" + (destinationSlideIDNUM + 1);
                destinationNavID = "nav" + (destinationSlideIDNUM + 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "prevButton":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + (destinationSlideIDNUM - 1);
                destinationNavID = "nav" + (destinationSlideIDNUM - 1);
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "navElement":

                destinationSlideIDNUM = Number(theDestination.substr(3));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = theDestination;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "slideHeader":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                break;
            case "tableOfContentsLink":
                destinationSlideIDNUM = Number(theDestination.substr(5));
                destinationSlideID = "slide" + destinationSlideIDNUM;
                destinationNavID = "nav" + destinationSlideIDNUM;
                methods.changeTheActualSlide(destinationSlideID, destinationNavID, theActiveNavID, theActiveSlideID);
                //this is here because of it's scope, and so it will jump to and open a slide.
                window.location = "#"+destinationSlideID;
                break;
        }//end switch
    },//end ascertainScope method
    whichInput: function (zz) {
        if (this.className === "TOClink") {

            methods.ascertainScope("tableOfContentsLink", this.getAttribute("data-destination"));
        }//end if
        //clicked the next button
        if (this.className === "nextButton") {

            methods.ascertainScope("nextButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a previous button
        if (this.className === "prevButton") {
            methods.ascertainScope("prevButton", this.parentNode.parentNode.parentNode.parentNode.id);
        }//end if
        //clicked a nav element
        if (this.className === "navElement" || this.className === "activeNavElement" || this.className === "pastNavElement") {
            methods.ascertainScope("navElement", this.id);
        }//end if

        //clicked a header element
        if (this.className === "slideHeader clearfix" || this.className === "pastSlideHeader clearfix" || this.className === "futureSlideHeader clearfix") {
            methods.ascertainScope("slideHeader", this.parentNode.id);
        }//end if
        if (zz.keyCode === 78) {
            methods.ascertainScope("next", null);
        }//end if

        // Pressed the P key
        if (zz.keyCode === 80) {
            methods.ascertainScope("prev", null);
        }//end if

        // Pressed the UP arrow key
        if (zz.keyCode === 38) {
            //console.log("Top of the page",null);
        }//end if
        return null;
    },//end whichInput Method
    renderTheAudioButtons: function () {
        //this inserts the audio button onto the slides that have the data-hasAudioPlayer attribute set to Yes.
        var theHasAudioPlayerFlag, allTheSectionElements, theAudioInsertionTargetElement, theAudioInsertionParentElement, theAudioBoxElement, theAudioButtonElement, theAudioControlsElement, audioLandingPadElement, theSlideNumberNum, theSlideDOMElement;
        //craft the audioBox Element with all it's children.
        //Gather the section elements into one variable
        allTheSectionElements = document.getElementsByTagName("section");
        //use a loop to rip through each section element one by one.
        for (var m = 0; m < allTheSectionElements.length; m++) {
            //if this section is a slide or is the active slide
            if (allTheSectionElements[m].className === "slide" || allTheSectionElements[m].className === "activeSlide") {
                // READ the data attribute I am looking for.
                theHasAudioPlayerFlag = allTheSectionElements[m].getAttribute("data-hasAudioPlayer");
                //YES this slide is supposed to have audio.
                if (theHasAudioPlayerFlag === "yes") {
                    //now build this --> element parent.insertbefore(insertThisElement, insertItBeforeTHISElement)
                    //grab the slide
                    theSlideDOMElement = document.getElementById(allTheSectionElements[m].id);
                    //within the slide element identify the parent THEN target elements.
                    for (var nn = 0; nn < theSlideDOMElement.children.length; nn++) {
                        //insertion target is the slide header.
                        if (theSlideDOMElement.children[nn].className === "slideFooter" || theSlideDOMElement.children[nn].className === "activeSlideFooter") {

                            theAudioInsertionParentElement = theSlideDOMElement.children[nn];
                            if (theAudioInsertionParentElement.children[0].className === "nextPrevious") {
                                theAudioInsertionTargetElement = theAudioInsertionParentElement.children[0];
                            }//end if
                        }//end if
                        //change this to theSlideDOMElement

                    }//end for
                    //now create the element to insert and perform the insertion

                    theAudioBoxElement = document.createElement("section");
                    if (theAudioInsertionParentElement.id === "slide1") {
                        theAudioBoxElement.className = "activeAudioBox";
                    } else {
                        theAudioBoxElement.className = "audioBox";
                    }//end if

                    theAudioButtonElement = document.createElement("div");
                    theAudioButtonElement.className = "audioButton";
                    theAudioControlsElement = document.createElement("div");
                    theAudioControlsElement.className = "audioControls";
                    audioLandingPadElement = document.createElement("span");
                    theSlideNumberNum = theSlideDOMElement.id.substr(5);
                    audioLandingPadElement.id = "audioLandingPad" + theSlideNumberNum;
                    theAudioControlsElement.appendChild(audioLandingPadElement);
                    theAudioBoxElement.appendChild(theAudioButtonElement);
                    theAudioBoxElement.appendChild(theAudioControlsElement);
                    // This is where the audio player gets inserted into the audioControls element.
                    theAudioInsertionParentElement.insertBefore(theAudioBoxElement, theAudioInsertionTargetElement);


                }//end audioFlag if

            }//end sectionElements if
        }//end for
    },//end renderTheAudioButtons method
    main: function () {

        //this function is limited to mostly adding event listeners. The one exception, as it stands, is rendering the audio buttons on the page. This has extremely low overhead, and is the first of a two step process designed to make page loading more efficient.
        var slideHeaderElements, futureSlideHeaderElements, allTheAudioButtons, allThePreviousSLideButtons, allTheNextSLideButtons, allTheNavElements;


        //putting all the elements into the nav menu based on how many slide there are.
        methods.populateTheNavMenu();

        //====================== now add the listeners
        //All the slide headers.


        slideHeaderElements = document.getElementsByClassName("slideHeader clearfix");
        for (var a = 0; a < slideHeaderElements.length; a++) {
            slideHeaderElements[a].addEventListener("click", methods.whichInput, false);
        }//end for

        futureSlideHeaderElements = document.getElementsByClassName("futureSlideHeader clearfix");
        for (var o = 0; o < futureSlideHeaderElements.length; o++) {
            futureSlideHeaderElements[o].addEventListener("click", methods.whichInput, false);
        }//end for
        //All the nav elements

        allTheNavElements = document.getElementsByClassName("navElement");
        for (var d = 0; d < allTheNavElements.length; d++) {
            allTheNavElements[d].addEventListener("click", methods.whichInput, false);
        }//end for
        document.getElementsByClassName("activeNavElement")[0].addEventListener("click", methods.whichInput, false);


        //All the next buttons
        allTheNextSLideButtons = document.getElementsByClassName("nextButton");
        for (var f = 0; f < (allTheNextSLideButtons.length - 1); f++) {
            allTheNextSLideButtons[f].addEventListener("click", methods.whichInput, false);
        }//end for

        //All the previous buttons
        allThePreviousSLideButtons = document.getElementsByClassName("prevButton");
        for (var g = 0; g < allThePreviousSLideButtons.length; g++) {
            allThePreviousSLideButtons[g].addEventListener("click", methods.whichInput, false);
        }//end for

        allTheAudioButtons = document.getElementsByClassName("audioButton");


        //Handling Keyboard input

        document.addEventListener('keyup', methods.whichInput, false);

        //the help button
        document.getElementById("helpButton").addEventListener("click", methods.helpButtonHandler, false);

        //now render all the audio buttons on the slides that have the attribute data-hasAudioPlayer="yes"
        methods.renderTheAudioButtons();//first phase
        //and now that they exist in the DOM add the listeners.
        for (var l = 0; l < allTheAudioButtons.length; l++) {//second phase
            allTheAudioButtons[l].addEventListener("click", methods.audioButtonHandler, false);
        }//end for


        //this adds accessibility features to the rendered document.
        methods.givingAccess();
        //this reads each slide, grabs all the headers, then adds those headers to the Table of Contents.
        //essentially building the Table of Contents at the top of each slide.
        methods.tocHandler();

        //the TOC button
        document.getElementById("theTocTarget").addEventListener("click", methods.clickScopeTOC, false);
        //each TOC link
        var tocListItems = document.getElementsByClassName("TOClink");
        for (var ttt = 0; ttt < tocListItems.length; ttt++) {
            tocListItems[ttt].addEventListener("click", methods.whichInput, false);
        }//end for

        //this creates the nav menu elements.
       methods.navMenu();
       //call the figure build
       methods.figureButtonInsertion();
       methods.yellowFlash();




    }//end main method
};//end methods object.
window.onload = methods.main();





var methods={clickScopeTOC:function(){var e,t;t=this.parentNode.className,"TOCs"===t&&(e=this.id,methods.openTOC(e)),"TOCs-open"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode;"45px"!==t.style.height&&(t.style.height="45px"),t.className="TOCs"},openTOC:function(e){for(var t=document.getElementById(e).parentNode,n=0,a=0;a<t.children.length;a++){var d=t.children[a],l=Number(d.offsetHeight);n+=l}n+=45,t.style.height=n+"px",t.className="TOCs-open"},traverse:function(e,t){for(var n,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],e(n),n.childNodes.length>0&&methods.traverse(e,n)},tocHandler:function(){function e(){var e;document.getElementById("moduleTOC-default")&&(e=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(e=document.getElementById("moduleTOC-open")),e.children[0].id="theTocTarget",e.children[0].className="TOCtargets",e.children[0].style.listStyleType="none"}function t(e,t){var n,l,s,i,m;if(n=Math.round(1e4*Math.random()),t.id=o+"-"+e+"-"+n,s=o.substr(5),i="nav"+o.substr(5),l="#"+o+"-"+e+"-"+n,m="<a class='TOClink' data-href='"+l+"'data-destination='"+o+"' data-destinationNavID='"+i+"'>"+t.innerHTML+"</a>",a=document.createElement("li"),a.className="TOC-"+e,a.innerHTML=m,c===Number(s)){var r;document.getElementById("moduleTOC-default")&&(r=document.getElementById("moduleTOC-default")),document.getElementById("moduleTOC-open")&&(r=document.getElementById("moduleTOC-open"));var u=document.createElement("li");u.id="slide"+s+"TOC",u.innerHTML="<ul><li id='slide"+s+"TocTarget'></li></ul>",d=document.getElementById("theTocTarget"),r.insertBefore(u,d),c++}var h=document.getElementById("slide"+s+"TOC").children[0],g=document.getElementById("slide"+s+"TocTarget");h.insertBefore(a,g)}function n(e){"H1"===e.nodeName&&t("H1",e),"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e),"H4"===e.nodeName&&t("H4",e),"H5"===e.nodeName&&t("H5",e),"H6"===e.nodeName&&t("H6",e)}var a,d,l,s,i,o,c=1;e(),l=methods.countTheSlides();for(var m=0;l>m;m++)s="slide"+(m+1),i=document.getElementById(s),o=i.id,methods.traverse(n,i);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,a,d,l,s,i,o,c,m,r,u;if(t=document.getElementsByTagName("body"))for(var h=0;h<t.length;h++)t[h].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var g=0;g<n.length;g++)n[g].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),a=document.getElementsByTagName("moduleHeader"))for(var v=0;v<a.length;v++)a[v].setAttribute("role","banner");if(d=document.getElementsByTagName("img"))for(var N=0;N<d.length;N++)d[N].setAttribute("role","image");if(l=document.getElementsByTagName("ol"))for(var p=0;p<l.length;p++)l[p].setAttribute("role","list");if(s=document.getElementsByTagName("ul"),l)for(var y=0;y<s.length;y++)"mainNavList"!==s[y].id&&s[y].setAttribute("role","list");if(i=document.getElementsByTagName("li"))for(var B=0;B<i.length;B++)"navElement"!==i[B].className&&"activeNavElement"!==i[B].className&&i[B].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var E=0;E<e.length;E++)u=e[E].getAttribute("target"),"_blank"===u&&(o=e[E].getAttribute("href"),e[E].setAttribute("title","NOTE: This external link will bring you to the following URL:"+o),c=e[E],m=c.parentNode,r=document.createElement("img"),r.id="link"+E,r.style.width="10px",r.style.height="10px",r.style.margin="0",r.style.padding="0 3px 6px 0",r.src="img/externalLinkIcon.png","celLogoLink"!==e[E].className&&m.insertBefore(r,c))},countTheSlides:function(){var e,t;return t=document.getElementsByClassName("slide"),e=document.getElementsByClassName("activeSlide"),e.length+t.length},scrollTo:function(e){window.location.href="#"+e},closeNavGridMenu:function(){document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden"},openNavGridMenu:function(){document.getElementById("mainNav").className=""},audioButtonHandler:function(){var e,t,n,a,d,l,s,i,o,c,m,r;t=this.parentNode;for(var u=0;u<t.children.length;u++)if("audioControls"===t.children[u].className&&(o=t.children[u]||null,c=o.children[0].id,d=document.getElementById(c),r=c.substr(15),l=document.createElement("audio"),l.controls="yes",l.id="audioSlide"+r,m=document.title,o.insertBefore(l,d),s=document.createElement("source"),i=document.createElement("source"),s.src="media/"+m+"-S"+r+".m4a",s.type="audio/mpeg",i.src="media/"+m+"-S"+r+".ogg",i.type="audio/ogg",l.appendChild(s),l.appendChild(i)),"audioButton"===t.children[u].className){n=t.children[u];for(var h=0;h<t.children.length;h++)"audioControls"===t.children[h].className&&(e=t.children[h],n.style.height="0px",n.style.width="0px"),"audioButton"===t.children[h].className&&(a=t.children[h])}},helpButtonHandler:function(){var e;document.getElementById("helpBoxClosing")&&(e=document.getElementById("helpBoxClosing")),document.getElementById("helpBoxOpening")&&(e=document.getElementById("helpBoxOpening")),"90%"!==e.style.width?(e.id="helpBoxClosing",e.style.width="90%",e.style.height="475px",e.style.backgroundImage="url('img/white-x.svg')",e.style.backgroundPosition="100% 0px",e.style.backgroundSize="2.5em 2.5em"):(e.style.backgroundPosition="0px 0px,top",e.id="helpBoxOpening",e.style.width="2.5em",e.style.height="2.5em",e.style.backgroundImage="url('img/help-icon.svg')")},changeTheActualSlide:function(e,t,n,a){var d,l,s,i,o,c,m,r,u,h,g,v;if(r=e.substr(5),r>1?(document.getElementById("courseNumber").className="visuallyhidden",document.getElementById("moduleNumber").className="visuallyhidden"):(document.getElementById("courseNumber").className="",document.getElementById("moduleNumber").className=""),h="theTocTarget",g=document.getElementById(h).parentNode.className,"TOCs-open"===g&&methods.closeTOC(h),u=document.getElementsByTagName("audio"),u.length>0)for(var N=0;N<u.length;N++)u[N].pause();d=document.getElementById(a);for(var p=0;p<d.children.length;p++)o=d.children[p].className,("slideHeader clearfix"===o||"futureSlideHeader clearfix"===o)&&(c=d.children[p],c.className="pastSlideHeader clearfix");document.getElementById(n).className="pastNavElement",document.getElementById("navButton").innerHTML=10>r?"0"+r:r,document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),m=document.getElementById(e),m.className="activeSlide";for(var y=0;y<m.children.length;y++)i=m.children[y].className,"futureSlideHeader clearfix"===i&&(m.children[y].className="slideHeader clearfix"),"slideContent"===i&&(m.children[y].className="activeSlideContent"),"slideFooter"===i&&(m.children[y].className="activeSlideFooter"),"audioBox"===i&&(m.children[y].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var B=0;B<methods.countTheSlides();B++)if(l=document.getElementById("slide"+(B+1)).id,l!==e){s=document.getElementById(l),s.className="slide";for(var E=0;E<s.children.length;E++)switch(v=s.children[E].className){case"pastSlideHeader clearfix":break;case"futureSlideHeader clearfix":break;case"activeSlideContent":s.children[E].className="slideContent";break;case"activeSlideFooter":s.children[E].className="slideFooter";break;case"activeAudioBox":s.children[E].className="audioBox"}}},ascertainScope:function(e,t){var n,a,d,l,s,i,o;switch(o=document.getElementsByClassName("activeSlide")[0].id,i=o.substr(5),s="nav"+i,e){case"next":d=Number(o.substr(5)),d+1>methods.countTheSlides()?(l="slide1",a="nav1",methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d+1),a="nav"+(d+1),methods.changeTheActualSlide(l,a,s,o));break;case"prev":d=Number(o.substr(5)),d-1===0?(l="slide1",a="nav1",alert(" You must be mistaken...There is nothing previous to the first slide"),methods.changeTheActualSlide(l,a,s,o)):(l="slide"+(d-1),a="nav"+(d-1),methods.changeTheActualSlide(l,a,s,o));break;case"nextButton":n=Number(t.substr(5)),l="slide"+(n+1),a="nav"+(n+1),methods.changeTheActualSlide(l,a,s,o);break;case"prevButton":n=Number(t.substr(5)),l="slide"+(n-1),a="nav"+(n-1),methods.changeTheActualSlide(l,a,s,o);break;case"navElement":document.getElementById("navButton").className="",document.getElementById("mainNav").className="visuallyhidden",n=Number(t.substr(3)),l="slide"+n,a=t,methods.changeTheActualSlide(l,a,s,o);break;case"slideHeader":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o);break;case"tableOfContentsLink":n=Number(t.substr(5)),l="slide"+n,a="nav"+n,methods.changeTheActualSlide(l,a,s,o)}},whichInput:function(e){return"TOClink"===this.className&&methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),("navElement"===this.className||"activeNavElement"===this.className||"pastNavElement"===this.className)&&methods.ascertainScope("navElement",this.id),("slideHeader clearfix"===this.className||"pastSlideHeader clearfix"===this.className||"futureSlideHeader clearfix"===this.className)&&methods.ascertainScope("slideHeader",this.parentNode.id),39===e.keyCode&&methods.ascertainScope("next",null),37===e.keyCode&&methods.ascertainScope("prev",null),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),38===e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,a,d,l,s,i,o,c;t=document.getElementsByTagName("section");for(var m=0;m<t.length;m++)if(("slide"===t[m].className||"activeSlide"===t[m].className)&&(e=t[m].getAttribute("data-hasAudioPlayer"),"yes"===e)){c=document.getElementById(t[m].id);for(var r=0;r<c.children.length;r++)("slideFooter"===c.children[r].className||"activeSlideFooter"===c.children[r].className)&&(a=c.children[r],"nextPrevious"===a.children[0].className&&(n=a.children[0]));d=document.createElement("section"),d.className="slide1"===a.id?"activeAudioBox":"audioBox",l=document.createElement("div"),l.className="audioButton",s=document.createElement("div"),s.className="audioControls",i=document.createElement("span"),o=c.id.substr(5),i.id="audioLandingPad"+o,s.appendChild(i),d.appendChild(l),d.appendChild(s),a.insertBefore(d,n)}},main:function(){var e,t,n,a,d,l;e=document.getElementsByClassName("slideHeader clearfix");for(var s=0;s<e.length;s++)e[s].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader clearfix");for(var i=0;i<t.length;i++)t[i].addEventListener("click",methods.whichInput,!1);l=document.getElementsByClassName("navElement");for(var o=0;o<l.length;o++)l[o].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),document.getElementById("navButton").addEventListener("click",methods.openNavGridMenu,!1),d=document.getElementsByClassName("nextButton");for(var c=0;c<d.length-1;c++)d[c].addEventListener("click",methods.whichInput,!1);a=document.getElementsByClassName("prevButton");for(var m=0;m<a.length;m++)a[m].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var r=0;r<n.length;r++)n[r].addEventListener("click",methods.audioButtonHandler,!1);document.getElementById("totalSlides").innerHTML="of&nbsp;"+methods.countTheSlides(),methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1);for(var u=document.getElementsByClassName("TOClink"),h=0;h<u.length;h++)u[h].addEventListener("click",methods.whichInput,!1)}};window.onload=methods.main();